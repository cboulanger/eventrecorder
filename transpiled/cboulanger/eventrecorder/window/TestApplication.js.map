{
  "version": 3,
  "sources": [
    "/home/travis/build/cboulanger/eventrecorder/source/class/cboulanger/eventrecorder/window/TestApplication.js"
  ],
  "names": [
    "qx",
    "Bootstrap",
    "executePendingDefers",
    "$$dbClassInfo",
    "Class",
    "define",
    "extend",
    "application",
    "Standalone",
    "include",
    "cboulanger",
    "eventrecorder",
    "window",
    "MRemoteBinding",
    "properties",
    "chatMessage",
    "check",
    "init",
    "event",
    "listModel",
    "nullable",
    "members",
    "main",
    "log",
    "appender",
    "Native",
    "container",
    "ui",
    "Composite",
    "layout",
    "VBox",
    "add",
    "basic",
    "Label",
    "set",
    "rich",
    "button1",
    "form",
    "Button",
    "chatbox",
    "TextField",
    "setLiveUpdate",
    "bind",
    "list",
    "__createList",
    "button2",
    "counter",
    "addListener",
    "getModel",
    "unshift",
    "data",
    "marshal",
    "Json",
    "createModel",
    "name",
    "online",
    "button3",
    "splice",
    "getRoot",
    "left",
    "top",
    "remoteWin",
    "RemoteApplication",
    "width",
    "height",
    "syncProperties",
    "opener",
    "rawData",
    "i",
    "entry",
    "push",
    "setModel",
    "List",
    "setWidth",
    "delegate",
    "configureItem",
    "item",
    "setPadding",
    "createItem",
    "CheckBox",
    "bindItem",
    "controller",
    "id",
    "bindProperty",
    "bindPropertyReverse",
    "setDelegate",
    "TestApplication"
  ],
  "mappings": "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",
  "sourcesContent": [
    "/* ************************************************************************\n\n   Copyright: 2018 Christian Boulanger\n\n   License: MIT license\n\n   Authors: Christian Boulanger (cboulanger) info@bibliograph.org\n\n************************************************************************ */\n\n/**\n * This is the main application class of \"UI Event Recorder\"\n */\nqx.Class.define(\"cboulanger.eventrecorder.window.TestApplication\", {\n  extend: qx.application.Standalone,\n  include: cboulanger.eventrecorder.window.MRemoteBinding,\n  properties: {\n    chatMessage : {\n      check: \"String\",\n      init: \"\",\n      event: \"changeChatMessage\"\n    },\n    listModel: {\n      check: \"qx.data.Array\",\n      nullable: true,\n      event: \"changeListModel\"\n    }\n  },\n  members:\n  {\n    main : function() {\n      this.base(arguments);\n      if (qx.core.Environment.get(\"qx.debug\")) {\n        qx.log.appender.Native;\n      }\n      var container = new qx.ui.container.Composite(new qx.ui.layout.VBox(5));\n      container.add((new qx.ui.basic.Label(\"<h3>Remote databinding demo</h3>\")).set({rich:true}));\n      var button1 = new qx.ui.form.Button(\"1. Open a new window\");\n      container.add(button1);\n      container.add(new qx.ui.basic.Label(\"2. Type a message:\"));\n      var chatbox = new qx.ui.form.TextField();\n      chatbox.setLiveUpdate(true);\n      this.bind(\"chatMessage\", chatbox, \"value\");\n      chatbox.bind(\"value\", this, \"chatMessage\");\n      container.add(chatbox);\n      container.add(new qx.ui.basic.Label(\"3. Tick & Click:\"));\n      var list = this.__createList();\n      // setup databinding\n      this.bind(\"listModel\", list, \"model\");\n      list.bind(\"model\", this, \"listModel\");\n      container.add(list);\n      var button2 = new qx.ui.form.Button(\"Add item at the top\");\n      var counter = 1;\n      button2.addListener(\"execute\", function() {\n        list.getModel().unshift(qx.data.marshal.Json.createModel({\n          name: \"New item \" + counter++,\n          online: true\n        }));\n      });\n      container.add(button2);\n      var button3 = new qx.ui.form.Button(\"Delete first three items\");\n      button3.addListener(\"execute\", function() {\n        list.getModel().splice(0, 3);\n      });\n      container.add(button3);\n      this.getRoot().add(container, {left:50, top: 0});\n      // communicate with a new browser window\n      button1.addListener(\"execute\", function() {\n        var remoteWin = new cboulanger.eventrecorder.window.RemoteApplication(\"remote_binding_test\", {\n          width: 300,\n          height: 500\n        });\n        this.syncProperties(remoteWin);\n      }, this);\n\n      if (window.opener) {\n        // if we're in a new window, sync properties with the window that opened us\n        this.syncProperties(window.opener);\n      } else {\n        // we are the main window, create the data for the list to be sync'ed\n        var rawData = [];\n        for (var i = 0; i < 20; i++) {\n          var entry = {\n            name: \"Item \" + i,\n            online: i % 3 === 0\n          };\n          rawData.push(entry);\n        }\n        var data = qx.data.marshal.Json.createModel(rawData, true);\n        list.setModel(data);\n      }\n    },\n\n    __createList: function() {\n      // create the widgets\n      var list = new qx.ui.list.List();\n      list.setWidth(150);\n\n      // create the delegate to change the bindings\n      var delegate = {\n        configureItem : function(item) {\n          item.setPadding(3);\n        },\n        createItem : function() {\n          return new qx.ui.form.CheckBox();\n        },\n        bindItem : function(controller, item, id) {\n          controller.bindProperty(\"name\", \"label\", null, item, id);\n          controller.bindProperty(\"online\", \"value\", null, item, id);\n          controller.bindPropertyReverse(\"online\", \"value\", null, item, id);\n        }\n      };\n      list.setDelegate(delegate);\n      return list;\n    }\n  }\n});\n"
  ]
}