{
  "version": 3,
  "sources": [
    "/home/travis/build/cboulanger/eventrecorder/qx_packages/ergobyte_qookery_892f44d1d1ae5d65c7dd99b18da6876de2f2a920/qookery/source/class/qookery/internal/components/AbstractSelectBoxComponent.js"
  ],
  "names": [
    "qx",
    "Bootstrap",
    "executePendingDefers",
    "$$dbClassInfo",
    "Class",
    "define",
    "type",
    "extend",
    "qookery",
    "internal",
    "components",
    "EditableComponent",
    "statics",
    "_NULL_ITEM_MODEL",
    "construct",
    "parentComponent",
    "members",
    "getAttributeType",
    "attributeName",
    "_applySelectBoxAttributes",
    "selectBox",
    "_applyAttribute",
    "_applyWidgetAttributes",
    "_applyConnection",
    "modelProvider",
    "connection",
    "getAttribute",
    "undefined",
    "mapName",
    "setItems",
    "Qookery",
    "getRegistry",
    "getMap",
    "setup",
    "addItem",
    "model",
    "label",
    "icon",
    "_getLabelOf",
    "item",
    "ui",
    "form",
    "ListItem",
    "getMainWidget",
    "existingItems",
    "getChildren",
    "index",
    "length",
    "existingItem",
    "getModel",
    "AbstractSelectBoxComponent",
    "getLabel",
    "addAt",
    "add",
    "addNullItem",
    "removeAllItems",
    "removeAll",
    "forEach",
    "destroy",
    "getItems",
    "items",
    "_disableValueEvents",
    "data",
    "Array",
    "toArray",
    "lang",
    "Type",
    "isArray",
    "i",
    "isObject",
    "Conversion",
    "toString",
    "_updateUI",
    "getValue",
    "_applyEnabled",
    "enabled",
    "labelWidget",
    "getLabelWidget",
    "setEnabled",
    "__updateEnabled",
    "_applyReadOnly",
    "readOnly",
    "isEnabled",
    "getEnabled",
    "isReadOnly",
    "getReadOnly"
  ],
  "mappings": "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",
  "sourcesContent": [
    "/*\n\tQookery - Declarative UI Building for Qooxdoo\n\n\tCopyright (c) Ergobyte Informatics S.A., www.ergobyte.gr\n\n\tLicensed under the Apache License, Version 2.0 (the \"License\");\n\tyou may not use this file except in compliance with the License.\n\tYou may obtain a copy of the License at\n\n\t\thttp://www.apache.org/licenses/LICENSE-2.0\n\n\tUnless required by applicable law or agreed to in writing, software\n\tdistributed under the License is distributed on an \"AS IS\" BASIS,\n\tWITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n\tSee the License for the specific language governing permissions and\n\tlimitations under the License.\n*/\n\nqx.Class.define(\"qookery.internal.components.AbstractSelectBoxComponent\", {\n\n\ttype : \"abstract\",\n\textend: qookery.internal.components.EditableComponent,\n\n\tstatics: {\n\t\t_NULL_ITEM_MODEL: \"\"\n\t},\n\n\tconstruct: function(parentComponent) {\n\t\tthis.base(arguments, parentComponent);\n\t},\n\n\tmembers: {\n\n\t\t// Metadata\n\n\t\tgetAttributeType: function(attributeName) {\n\t\t\tswitch(attributeName) {\n\t\t\tcase \"keep-sorted\": return \"Boolean\";\n\t\t\tcase \"map\": return \"String\";\n\t\t\tcase \"max-list-height\": return \"Number\";\n\t\t\tcase \"null-item-label\": return \"ReplaceableString\";\n\t\t\t}\n\t\t\treturn this.base(arguments, attributeName);\n\t\t},\n\n\t\t// Construction\n\n\t\t_applySelectBoxAttributes: function(selectBox) {\n\t\t\tthis._applyAttribute(\"max-list-height\", selectBox, \"maxListHeight\");\n\t\t\tthis._applyWidgetAttributes(selectBox);\n\t\t},\n\n\t\t_applyConnection: function(modelProvider, connection) {\n\t\t\tif(this.getAttribute(\"map\") === undefined) {\n\t\t\t\tvar mapName = connection.getAttribute(\"map\");\n\t\t\t\tif(mapName != null)\n\t\t\t\t\tthis.setItems(qookery.Qookery.getRegistry().getMap(mapName));\n\t\t\t}\n\t\t\tthis.base(arguments, modelProvider, connection);\n\t\t},\n\n\t\tsetup: function() {\n\t\t\tvar mapName = this.getAttribute(\"map\");\n\t\t\tif(mapName !== undefined)\n\t\t\t\tthis.setItems(qookery.Qookery.getRegistry().getMap(mapName));\n\t\t\tthis.base(arguments);\n\t\t},\n\n\t\t// Public methods\n\n\t\taddItem: function(model, label, icon) {\n\t\t\tif(label == null)\n\t\t\t\tlabel = this._getLabelOf(model);\n\t\t\tvar item = new qx.ui.form.ListItem(label, icon, model);\n\t\t\tvar selectBox = this.getMainWidget();\n\t\t\tif(this.getAttribute(\"keep-sorted\", true)) {\n\t\t\t\tvar existingItems = selectBox.getChildren();\n\t\t\t\tfor(var index = 0; index < existingItems.length; index++) {\n\t\t\t\t\tvar existingItem = existingItems[index];\n\t\t\t\t\tif(existingItem.getModel() === qookery.internal.components.AbstractSelectBoxComponent._NULL_ITEM_MODEL)\n\t\t\t\t\t\tcontinue;\n\t\t\t\t\tif(existingItem.getLabel() > label)\n\t\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\tselectBox.addAt(item, index);\n\t\t\t}\n\t\t\telse selectBox.add(item);\n\t\t},\n\n\t\taddNullItem: function(label, icon) {\n\t\t\tif(label === undefined)\n\t\t\t\tlabel = this.getAttribute(\"null-item-label\", \"\");\n\t\t\tif(icon === undefined)\n\t\t\t\ticon = null;\n\t\t\tvar item = new qx.ui.form.ListItem(label, icon, qookery.internal.components.AbstractSelectBoxComponent._NULL_ITEM_MODEL);\n\t\t\tthis.getMainWidget().add(item);\n\t\t},\n\n\t\tremoveAllItems: function() {\n\t\t\tthis.getMainWidget().removeAll().forEach(function(item) { item.destroy(); });\n\t\t},\n\n\t\tgetItems: function() {\n\t\t\treturn this.getMainWidget().getChildren();\n\t\t},\n\n\t\tsetItems: function(items) {\n\t\t\tthis._disableValueEvents = true;\n\t\t\ttry {\n\t\t\t\tthis.removeAllItems();\n\t\t\t\tif(this.getAttribute(\"null-item-label\") !== undefined) {\n\t\t\t\t\tthis.addNullItem();\n\t\t\t\t}\n\t\t\t\tif(items instanceof qx.data.Array) {\n\t\t\t\t\titems = items.toArray();\n\t\t\t\t}\n\t\t\t\tif(qx.lang.Type.isArray(items)) {\n\t\t\t\t\tfor(var i = 0; i < items.length; i++) {\n\t\t\t\t\t\tvar item = items[i];\n\t\t\t\t\t\tif(item instanceof qx.ui.form.ListItem)\n\t\t\t\t\t\t\tthis.getMainWidget().add(item);\n\t\t\t\t\t\telse\n\t\t\t\t\t\t\tthis.addItem(item);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\telse if(qx.lang.Type.isObject(items)) {\n\t\t\t\t\tfor(var model in items) {\n\t\t\t\t\t\tvar label = items[model];\n\t\t\t\t\t\tthis.addItem(model, qx.data.Conversion.toString(label));\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tfinally {\n\t\t\t\tthis._disableValueEvents = false;\n\t\t\t}\n\t\t\tthis._updateUI(this.getValue());\n\t\t},\n\n\t\t// Internals\n\n\t\t_applyEnabled: function(enabled) {\n\t\t\tvar labelWidget = this.getLabelWidget();\n\t\t\tif(labelWidget != null)\n\t\t\t\tlabelWidget.setEnabled(enabled);\n\t\t\tthis.__updateEnabled();\n\t\t},\n\n\t\t_applyReadOnly: function(readOnly) {\n\t\t\tthis.base(arguments, readOnly);\n\t\t\tthis.__updateEnabled();\n\t\t},\n\n\t\t__updateEnabled: function() {\n\t\t\tvar isEnabled = this.getEnabled();\n\t\t\tvar isReadOnly = this.getReadOnly();\n\t\t\tthis.getMainWidget().setEnabled(isEnabled && !isReadOnly);\n\t\t}\n\t}\n});\n"
  ]
}