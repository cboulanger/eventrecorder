{
  "version": 3,
  "sources": [
    "/home/travis/build/cboulanger/eventrecorder/qx_packages/ergobyte_qookery_892f44d1d1ae5d65c7dd99b18da6876de2f2a920/qookery/source/class/qookery/internal/components/DateFieldComponent.js"
  ],
  "names": [
    "qx",
    "Bootstrap",
    "executePendingDefers",
    "$$dbClassInfo",
    "Class",
    "define",
    "extend",
    "qookery",
    "internal",
    "components",
    "EditableComponent",
    "construct",
    "parentComponent",
    "__regularExpression",
    "__inputIndexMap",
    "year",
    "month",
    "date",
    "hours",
    "minutes",
    "seconds",
    "__userTyped",
    "members",
    "getAttributeType",
    "attributeName",
    "create",
    "attributes",
    "_applyAttribute",
    "specification",
    "__parseSpecification",
    "_createMainWidget",
    "widget",
    "ui",
    "form",
    "DateField",
    "Qookery",
    "getOption",
    "OPTION_DEFAULT_NATIVE_CONTEXT_MENU",
    "getChildControl",
    "addListener",
    "event",
    "__parseInput",
    "getKeyIdentifier",
    "getData",
    "getMainWidget",
    "resetValue",
    "_disableValueEvents",
    "setValue",
    "_applyWidgetAttributes",
    "_updateUI",
    "value",
    "dateField",
    "lang",
    "Type",
    "isDate",
    "isString",
    "Date",
    "parse",
    "Error",
    "_applyFormat",
    "format",
    "setDateFormat",
    "textField",
    "text",
    "getValue",
    "__parseDateTime",
    "res",
    "exec",
    "parseInt",
    "inputDate",
    "string",
    "dateParts",
    "split",
    "datePart",
    "timePart",
    "indexOf",
    "String",
    "getDate",
    "getMonth",
    "getFullYear",
    "length",
    "__parseDate",
    "constructor",
    "THRESHOLD",
    "result",
    "RegExp",
    "DateFieldComponent"
  ],
  "mappings": "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",
  "sourcesContent": [
    "/*\n\tQookery - Declarative UI Building for Qooxdoo\n\n\tCopyright (c) Ergobyte Informatics S.A., www.ergobyte.gr\n\n\tLicensed under the Apache License, Version 2.0 (the \"License\");\n\tyou may not use this file except in compliance with the License.\n\tYou may obtain a copy of the License at\n\n\t\thttp://www.apache.org/licenses/LICENSE-2.0\n\n\tUnless required by applicable law or agreed to in writing, software\n\tdistributed under the License is distributed on an \"AS IS\" BASIS,\n\tWITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n\tSee the License for the specific language governing permissions and\n\tlimitations under the License.\n*/\n\nqx.Class.define(\"qookery.internal.components.DateFieldComponent\", {\n\n\textend: qookery.internal.components.EditableComponent,\n\n\tconstruct: function(parentComponent) {\n\t\tthis.base(arguments, parentComponent);\n\t\tthis.__regularExpression = /(\\d{1,2})[\\.\\-\\/\\\\\\:](\\d{1,2})([\\.\\-\\/\\\\\\:](\\d?\\d?\\d\\d))?/;\n\t\tthis.__inputIndexMap = { year: 4, month: 2, date: 1, hours: 0, minutes: 0, seconds: 0 };\n\t\tthis.__userTyped = false;\n\t},\n\n\tmembers: {\n\n\t\t__regularExpression: null,\n\t\t__inputIndexMap: null,\n\t\t__userTyped: null,\n\n\t\t// Metadata\n\n\t\tgetAttributeType: function(attributeName) {\n\t\t\tswitch(attributeName) {\n\t\t\tcase \"placeholder\": return \"ReplaceableString\";\n\t\t\t}\n\t\t\treturn this.base(arguments, attributeName);\n\t\t},\n\n\t\t// Construction\n\n\t\tcreate: function(attributes) {\n\t\t\tthis.base(arguments, attributes);\n\t\t\tthis._applyAttribute(\"input-specification\", this, function(specification) {\n\t\t\t\tthis.__regularExpression = this.__parseSpecification(specification);\n\t\t\t});\n\t\t},\n\n\t\t_createMainWidget: function() {\n\t\t\tvar widget = new qx.ui.form.DateField();\n\t\t\tthis._applyAttribute(\"native-context-menu\", widget, \"nativeContextMenu\", qookery.Qookery.getOption(qookery.Qookery.OPTION_DEFAULT_NATIVE_CONTEXT_MENU));\n\t\t\twidget.getChildControl(\"textfield\").addListener(\"focusout\", function(event) {\n\t\t\t\tif(this.__userTyped) {\n\t\t\t\t\tthis.__userTyped = false;\n\t\t\t\t\tthis.__parseInput();\n\t\t\t\t}\n\t\t\t}, this);\n\t\t\twidget.addListener(\"keypress\", function(event) {\n\t\t\t\tthis.__userTyped = true;\n\t\t\t\tif(event.getKeyIdentifier() != \"Enter\" && event.getKeyIdentifier() != \"Tab\") return;\n\t\t\t\t\tthis.__parseInput();\n\t\t\t\t}, this);\n\t\t\twidget.addListener(\"changeValue\", function(event) {\n\t\t\t\tif(!event.getData())\n\t\t\t\t\tthis.getMainWidget().resetValue();\n\t\t\t\tif(this._disableValueEvents) return;\n\t\t\t\tthis.setValue(event.getData());\n\t\t\t}, this);\n\t\t\tthis._applyWidgetAttributes(widget);\n\t\t\tthis._applyAttribute(\"placeholder\", widget, \"placeholder\");\n\t\t\treturn widget;\n\t\t},\n\n\t\t_updateUI: function(value) {\n\t\t\tthis.__userTyped = false;\n\t\t\tvar dateField = this.getMainWidget();\n\t\t\tif(!value) {\n\t\t\t\tdateField.resetValue();\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif(!qx.lang.Type.isDate(value)) {\n\t\t\t\tif(qx.lang.Type.isString(value))\n\t\t\t\t\tvalue = new Date(Date.parse(value));\n\t\t\t\telse\n\t\t\t\t\tthrow new Error(\"Unsupported value type\");\n\t\t\t}\n\t\t\tdateField.setValue(value);\n\t\t},\n\n\t\t_applyFormat: function(format) {\n\t\t\tthis.getMainWidget().setDateFormat(format);\n\t\t},\n\n\t\t__parseInput: function() {\n\t\t\tvar textField = this.getMainWidget().getChildControl(\"textfield\");\n\t\t\tvar text = textField.getValue();\n\t\t\ttext = this.__parseDateTime(text);\n\t\t\tif(!text || text === \"\") return;\n\t\t\tvar res = this.__regularExpression.exec(text);\n\t\t\tif(!res) return;\n\t\t\tvar year = parseInt(res[this.__inputIndexMap.year], 10);\n\t\t\tvar month = parseInt(res[this.__inputIndexMap.month], 10) - 1;\n\t\t\tif(month < 0 || month > 11) return;\n\t\t\tvar date = parseInt(res[this.__inputIndexMap.date], 10);\n\t\t\tif(date < 1 || date > 31) return;\n\t\t\tvar hours = (parseInt(this.__inputIndexMap.hours, 10) !== 0) ? parseInt(res[this.__inputIndexMap.hours], 10) : 0;\n\t\t\tif(hours < 0 || hours > 23) return;\n\t\t\tvar minutes = (parseInt(this.__inputIndexMap.minutes, 10) !== 0) ? parseInt(res[this.__inputIndexMap.minutes], 10) : 0;\n\t\t\tif(minutes < 0 || minutes > 59) return;\n\t\t\tvar seconds = (parseInt(this.__inputIndexMap.seconds, 10) !== 0) ? parseInt(res[this.__inputIndexMap.seconds], 10) : 0;\n\t\t\tif(seconds < 0 || seconds > 59) return;\n\t\t\tvar inputDate = new Date(year, month, date, hours, minutes, seconds);\n\t\t\tthis.setValue(inputDate);\n\t\t},\n\n\t\t__parseDateTime: function(string) {\n\t\t\tif(string == null) return \"\";\n\t\t\tvar dateParts = string.split(/ +/);\n\n\t\t\tvar datePart = \"\";\n\t\t\tvar timePart = \"00:00\";\n\n\t\t\t//user give only time\n\t\t\tif(dateParts[0].indexOf(\":\") != -1) {\n\t\t\t\t\tdatePart = qx.lang.String.format(\"%1/%2/%3\", [new Date().getDate(),new Date().getMonth()+1, new Date().getFullYear()]);\n\t\t\t\t\ttimePart = dateParts[0];\n\t\t\t}\n\t\t\telse {\n\t\t\t\tdatePart = dateParts.length >= 1 ? this.__parseDate(dateParts[0]) : \"\";\n\t\t\t\tif(dateParts.length === 2 && parseInt(this.__inputIndexMap.minutes, 10) !== 0 && parseInt(this.__inputIndexMap.hours, 10) !== 0 ) {\n\t\t\t\t\tif(dateParts[1].indexOf(\":\") != -1) {\n\t\t\t\t\t\ttimePart = dateParts[1];\n\t\t\t\t\t}\n\t\t\t\t\telse if(dateParts[1].indexOf(\":\") == -1 && dateParts[1]>0) {\n\t\t\t\t\t\ttimePart = qx.lang.String.format(\"%1:%2\", [dateParts[1], \"00\"]);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn qx.lang.String.format(\"%1 %2\", [datePart, timePart]);\n\t\t},\n\n\t\t__parseDate: function(string) {\n\t\t\tvar date = string.split(\"/\");\n\t\t\tif(date.length == 1)\n\t\t\t\tdate = string.split(\"-\");\n\n\t\t\tswitch(date.length) {\n\t\t\tcase 1:\n\t\t\t\tstring = qx.lang.String.format(\"01/%1/%2\", [string, new Date().getFullYear()]);\n\t\t\t\tbreak;\n\t\t\tcase 2:\n\t\t\t\tif(date[1].length == 4)\n\t\t\t\t\tstring = qx.lang.String.format(\"01/%1/%2\", [date[0], date[1]]);\n\t\t\t\telse\n\t\t\t\t\tstring = qx.lang.String.format(\"%1/%2/%3\", [date[0], date[1], new Date().getFullYear()]);\n\t\t\t\tbreak;\n\t\t\tcase 3:\n\t\t\t\tif(date[2].length == 2) {\n\t\t\t\t\tdate[2] = (parseInt(date[2], 10) < this.constructor.THRESHOLD ?\n\t\t\t\t\t\t\t(date[2].length == 1 ? \"200\" : \"20\") + date[2] : (date[2].length == 1 ? \"190\" : \"19\") + date[2]);\n\t\t\t\t}\n\t\t\t\tstring = qx.lang.String.format(\"%1/%2/%3\", [date[0], date[1], date[2]]);\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\tstring = qx.lang.String.format(\"%1/%2/%3\", [new Date().getDate(),new Date().getMonth()+1, new Date().getFullYear()]);\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\treturn string;\n\t\t},\n\n\t\t__parseSpecification: function(specification) {\n\t\t\tvar result = specification.split(\" \", 7);\n\t\t\tif(!result || result.length != 7) return null;\n\t\t\tthis.__inputIndexMap = {\n\t\t\t\tyear: result[0],\n\t\t\t\tmonth: result[1],\n\t\t\t\tdate: result[2],\n\t\t\t\thours: result[3],\n\t\t\t\tminutes: result[4],\n\t\t\t\tseconds: result[5]\n\t\t\t};\n\t\t\treturn new RegExp(result[6], \"i\");\n\t\t}\n\t}\n});\n"
  ]
}