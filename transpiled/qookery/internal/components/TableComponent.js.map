{
  "version": 3,
  "sources": [
    "/home/travis/build/cboulanger/eventrecorder/qx_packages/ergobyte_qookery_892f44d1d1ae5d65c7dd99b18da6876de2f2a920/qookery/source/class/qookery/internal/components/TableComponent.js"
  ],
  "names": [
    "qx",
    "Bootstrap",
    "executePendingDefers",
    "$$dbClassInfo",
    "Class",
    "define",
    "extend",
    "qookery",
    "internal",
    "components",
    "EditableComponent",
    "events",
    "construct",
    "parentComponent",
    "__columns",
    "properties",
    "value",
    "refine",
    "init",
    "members",
    "__tableModel",
    "getAttributeType",
    "attributeName",
    "_createMainWidget",
    "table",
    "ui",
    "Table",
    "tableColumnModel",
    "_table",
    "columnmodel",
    "Resize",
    "selectionMode",
    "getAttribute",
    "selection",
    "Model",
    "NO_SELECTION",
    "SINGLE_SELECTION",
    "SINGLE_INTERVAL_SELECTION",
    "MULTIPLE_INTERVAL_SELECTION",
    "MULTIPLE_INTERVAL_SELECTION_TOGGLE",
    "selectionModel",
    "getSelectionModel",
    "setSelectionMode",
    "addListener",
    "event",
    "isSingleSelection",
    "getTarget",
    "getSelectionMode",
    "eventData",
    "getSingleSelection",
    "getSelection",
    "fireDataEvent",
    "_applyWidgetAttributes",
    "_applyAttribute",
    "parseXmlElement",
    "elementName",
    "xmlElement",
    "Error",
    "tableModelClassName",
    "util",
    "Xml",
    "tableModelClass",
    "getByName",
    "column",
    "parseAllAttributes",
    "addColumn",
    "setup",
    "length",
    "getMainWidget",
    "tableModel",
    "getTableModel",
    "lang",
    "Type",
    "isFunction",
    "call",
    "setTableModel",
    "columnModel",
    "getTableColumnModel",
    "resizeBehavior",
    "getBehavior",
    "i",
    "width",
    "undefined",
    "isNumber",
    "isString",
    "endsWith",
    "parseInt",
    "flex",
    "setWidth",
    "setMinWidth",
    "setMaxWidth",
    "headerWidget",
    "getPaneScroller",
    "getHeader",
    "getHeaderWidgetAtColumn",
    "setIcon",
    "setToolTipText",
    "getChildControl",
    "setTextAlign",
    "cellEditorName",
    "resolveQName",
    "cellEditorFactory",
    "Qookery",
    "getRegistry",
    "get",
    "IRegistry",
    "P_CELL_EDITOR_FACTORY",
    "cellEditor",
    "setCellEditorFactory",
    "cellRendererName",
    "cellRendererFactory",
    "P_CELL_RENDERER_FACTORY",
    "cellRenderer",
    "setDataCellRenderer",
    "setColumnVisible",
    "impl",
    "DefaultTableModel",
    "dispose",
    "push",
    "getColumns",
    "setColumns",
    "columns",
    "isSelectionEmpty",
    "iterateSelection",
    "rowIndex",
    "rowData",
    "getRowData",
    "resetSelection",
    "getSelectedRowIndex",
    "selectedRowIndex",
    "setSelectedRowIndex",
    "setFocus",
    "setSelectionInterval",
    "setFocusedCell",
    "selectAll",
    "getRowCount",
    "_updateUI",
    "setData",
    "addEventHandler",
    "eventName",
    "handler",
    "onlyOnce",
    "methodName",
    "_applyValid",
    "_applyRequired",
    "destruct",
    "_disposeObjects",
    "TableComponent"
  ],
  "mappings": "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",
  "sourcesContent": [
    "/*\n\tQookery - Declarative UI Building for Qooxdoo\n\n\tCopyright (c) Ergobyte Informatics S.A., www.ergobyte.gr\n\n\tLicensed under the Apache License, Version 2.0 (the \"License\");\n\tyou may not use this file except in compliance with the License.\n\tYou may obtain a copy of the License at\n\n\t\thttp://www.apache.org/licenses/LICENSE-2.0\n\n\tUnless required by applicable law or agreed to in writing, software\n\tdistributed under the License is distributed on an \"AS IS\" BASIS,\n\tWITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n\tSee the License for the specific language governing permissions and\n\tlimitations under the License.\n*/\n\nqx.Class.define(\"qookery.internal.components.TableComponent\", {\n\n\textend: qookery.internal.components.EditableComponent,\n\n\tevents: {\n\t\t\"changeSelection\": \"qx.event.type.Data\"\n\t},\n\n\tconstruct: function(parentComponent) {\n\t\tthis.base(arguments, parentComponent);\n\t\tthis.__columns = [ ];\n\t},\n\n\tproperties: {\n\t\tvalue: { refine: true, init: [ ] }\n\t},\n\n\tmembers: {\n\n\t\t__columns: null,\n\t\t__tableModel: null,\n\n\t\t// Metadata\n\n\t\tgetAttributeType: function(attributeName) {\n\t\t\tswitch(attributeName) {\n\t\t\tcase \"column-visibility-button-visible\": return \"Boolean\";\n\t\t\tcase \"editable\": return \"Boolean\";\n\t\t\tcase \"flex\": return \"Integer\";\n\t\t\tcase \"header-cells-visible\": return \"Boolean\";\n\t\t\tcase \"header-click\": return \"ReplaceableString\";\n\t\t\tcase \"header-icon\": return \"String\";\n\t\t\tcase \"row-height\": return \"Number\";\n\t\t\tcase \"show-cell-focus-indicator\": return \"Boolean\";\n\t\t\tcase \"sortable\": return \"Boolean\";\n\t\t\tcase \"status-bar-visible\": return \"Boolean\";\n\t\t\tdefault: return this.base(arguments, attributeName);\n\t\t\t}\n\t\t},\n\n\t\t// Creation\n\n\t\t_createMainWidget: function() {\n\t\t\tvar table = new qx.ui.table.Table(null, {\n\t\t\t\ttableColumnModel: function(_table) {\n\t\t\t\t\treturn new qx.ui.table.columnmodel.Resize(_table);\n\t\t\t\t}\n\t\t\t});\n\t\t\tvar selectionMode;\n\t\t\tswitch(this.getAttribute(\"selection-mode\", \"single\")) {\n\t\t\tcase \"none\": selectionMode = qx.ui.table.selection.Model.NO_SELECTION; break;\n\t\t\tcase \"single\": selectionMode = qx.ui.table.selection.Model.SINGLE_SELECTION; break;\n\t\t\tcase \"single-interval\": selectionMode = qx.ui.table.selection.Model.SINGLE_INTERVAL_SELECTION; break;\n\t\t\tcase \"multiple-interval\": selectionMode = qx.ui.table.selection.Model.MULTIPLE_INTERVAL_SELECTION; break;\n\t\t\tcase \"multiple-interval-toggle\": selectionMode = qx.ui.table.selection.Model.MULTIPLE_INTERVAL_SELECTION_TOGGLE; break;\n\t\t\t}\n\t\t\tvar selectionModel = table.getSelectionModel();\n\t\t\tselectionModel.setSelectionMode(selectionMode);\n\t\t\tselectionModel.addListener(\"changeSelection\", function(event) {\n\t\t\t\tvar isSingleSelection = event.getTarget().getSelectionMode() === qx.ui.table.selection.Model.SINGLE_SELECTION;\n\t\t\t\tvar eventData = isSingleSelection ? this.getSingleSelection() : this.getSelection();\n\t\t\t\tthis.fireDataEvent(\"changeSelection\", eventData);\n\t\t\t}, this);\n\n\t\t\tthis._applyWidgetAttributes(table);\n\t\t\tthis._applyAttribute(\"column-visibility-button-visible\", table, \"columnVisibilityButtonVisible\");\n\t\t\tthis._applyAttribute(\"row-height\", table, \"rowHeight\");\n\t\t\tthis._applyAttribute(\"status-bar-visible\", table, \"statusBarVisible\");\n\t\t\tthis._applyAttribute(\"show-cell-focus-indicator\", table, \"showCellFocusIndicator\");\n\t\t\tthis._applyAttribute(\"header-cells-visible\", table, \"headerCellsVisible\");\n\t\t\treturn table;\n\t\t},\n\n\t\tparseXmlElement: function(elementName, xmlElement) {\n\t\t\tswitch(elementName) {\n\t\t\tcase \"{http://www.qookery.org/ns/Form}table-model\":\n\t\t\t\tif(this.__tableModel) throw new Error(\"Table model has already been created\");\n\t\t\t\tvar tableModelClassName = qookery.util.Xml.getAttribute(xmlElement, \"class\", Error);\n\t\t\t\tvar tableModelClass = qx.Class.getByName(tableModelClassName);\n\t\t\t\tthis.__tableModel = new tableModelClass(this, xmlElement);\n\t\t\t\treturn true;\n\t\t\tcase \"{http://www.qookery.org/ns/Form}table-column\":\n\t\t\t\tvar column = qookery.util.Xml.parseAllAttributes(this, xmlElement);\n\t\t\t\tthis.addColumn(column);\n\t\t\t\treturn true;\n\t\t\t}\n\t\t\treturn false;\n\t\t},\n\n\t\tsetup: function() {\n\t\t\tif(this.__columns.length === 0)\n\t\t\t\tthrow new Error(\"Table must have at least one column\");\n\t\t\tvar table = this.getMainWidget();\n\t\t\tvar tableModel = this.getTableModel();\n\t\t\tif(qx.lang.Type.isFunction(tableModel[\"setup\"])) {\n\t\t\t\t// Give model a chance to perform last minute changes\n\t\t\t\ttableModel[\"setup\"].call(tableModel, table, this.__columns);\n\t\t\t}\n\t\t\ttable.setTableModel(tableModel);\n\t\t\tvar columnModel = table.getTableColumnModel();\n\t\t\tvar resizeBehavior = columnModel.getBehavior();\n\t\t\tfor(var i = 0; i < this.__columns.length; i++) {\n\t\t\t\tvar column = this.__columns[i];\n\t\t\t\tif(column[\"visibility\"] == \"excluded\") continue;\n\t\t\t\tif(column[\"width\"] != null || column[\"flex\"] != null) {\n\t\t\t\t\tvar width = column[\"width\"];\n\t\t\t\t\tif(width == null)\n\t\t\t\t\t\twidth = undefined;\n\t\t\t\t\telse if(qx.lang.Type.isNumber(width))\n\t\t\t\t\t\t;\n\t\t\t\t\telse if(qx.lang.Type.isString(width)) {\n\t\t\t\t\t\tif(width.endsWith(\"*\") || width.endsWith(\"%\"))\n\t\t\t\t\t\t\t;\n\t\t\t\t\t\telse\n\t\t\t\t\t\t\twidth = parseInt(width, 10);\n\t\t\t\t\t}\n\t\t\t\t\telse\n\t\t\t\t\t\tthrow new Error(\"Illegal value set as column width\");\n\t\t\t\t\tvar flex = column[\"flex\"];\n\t\t\t\t\tif(flex == null)\n\t\t\t\t\t\tflex = undefined;\n\t\t\t\t\telse if(qx.lang.Type.isNumber(flex))\n\t\t\t\t\t\t;\n\t\t\t\t\telse if(qx.lang.Type.isString(flex))\n\t\t\t\t\t\tflex = parseInt(flex, 10);\n\t\t\t\t\telse\n\t\t\t\t\t\tthrow new Error(\"Illegal value set as column flex\");\n\t\t\t\t\tresizeBehavior.setWidth(i, width, flex);\n\t\t\t\t}\n\t\t\t\tif(column[\"min-width\"]) {\n\t\t\t\t\tresizeBehavior.setMinWidth(i, column[\"min-width\"]);\n\t\t\t\t}\n\t\t\t\tif(column[\"max-width\"]) {\n\t\t\t\t\tresizeBehavior.setMaxWidth(i, column[\"max-width\"]);\n\t\t\t\t}\n\n\t\t\t\tvar headerWidget = table.getPaneScroller(0).getHeader().getHeaderWidgetAtColumn(i);\n\t\t\t\tif(column[\"header-icon\"]) {\n\t\t\t\t\theaderWidget.setIcon(column[\"header-icon\"]);\n\t\t\t\t}\n\t\t\t\tif(column[\"tool-tip-text\"]) {\n\t\t\t\t\theaderWidget.setToolTipText(column[\"tool-tip-text\"]);\n\t\t\t\t}\n\t\t\t\tif(column[\"header-click\"]) {\n\t\t\t\t\theaderWidget.addListener(\"tap\", function(event) {\n\t\t\t\t\t\tcolumn[\"header-click\"](event);\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t\tif(column[\"text-align\"]) {\n\t\t\t\t\theaderWidget.getChildControl(\"label\").setTextAlign(column[\"text-align\"]);\n\t\t\t\t}\n\t\t\t\tif(column[\"cell-editor\"]) {\n\t\t\t\t\tvar cellEditorName = this.resolveQName(column[\"cell-editor\"]);\n\t\t\t\t\tvar cellEditorFactory = qookery.Qookery.getRegistry().get(qookery.IRegistry.P_CELL_EDITOR_FACTORY, cellEditorName, true);\n\t\t\t\t\tvar cellEditor = cellEditorFactory(this, column);\n\t\t\t\t\tcolumnModel.setCellEditorFactory(i, cellEditor);\n\t\t\t\t}\n\n\t\t\t\tvar cellRendererName = this.resolveQName(column[\"cell-renderer\"] || \"{http://www.qookery.org/ns/Form}model\");\n\t\t\t\tvar cellRendererFactory = qookery.Qookery.getRegistry().get(qookery.IRegistry.P_CELL_RENDERER_FACTORY, cellRendererName, true);\n\t\t\t\tvar cellRenderer = cellRendererFactory(this, column);\n\t\t\t\tcolumnModel.setDataCellRenderer(i, cellRenderer);\n\t\t\t\tif(column[\"visibility\"] == \"hidden\") {\n\t\t\t\t\tcolumnModel.setColumnVisible(i, false);\n\t\t\t\t}\n\t\t\t}\n\t\t\tthis.base(arguments);\n\t\t},\n\n\t\t// Public methods\n\n\t\tgetTableModel: function() {\n\t\t\tif(this.__tableModel == null)\n\t\t\t\tthis.__tableModel = new qookery.impl.DefaultTableModel(this);\n\t\t\treturn this.__tableModel;\n\t\t},\n\n\t\tsetTableModel: function(tableModel) {\n\t\t\tif(this.__tableModel != null) this.__tableModel.dispose();\n\t\t\tthis.__tableModel = tableModel;\n\t\t},\n\n\t\taddColumn: function(column) {\n\t\t\tthis.__columns.push(column);\n\t\t},\n\n\t\tgetColumns: function() {\n\t\t\treturn this.__columns;\n\t\t},\n\n\t\tsetColumns: function(columns) {\n\t\t\tthis.__columns = columns;\n\t\t},\n\n\t\tisSelectionEmpty: function() {\n\t\t\tvar selectionModel = this.getMainWidget().getSelectionModel();\n\t\t\treturn selectionModel.isSelectionEmpty();\n\t\t},\n\n\t\tgetSelection: function() {\n\t\t\tvar selection = [ ];\n\t\t\tif(!this.__tableModel) return selection;\n\t\t\tvar selectionModel = this.getMainWidget().getSelectionModel();\n\t\t\tselectionModel.iterateSelection(function(rowIndex) {\n\t\t\t\tvar rowData = this.__tableModel.getRowData(rowIndex);\n\t\t\t\tif(rowData !== null) selection.push(rowData);\n\t\t\t}, this);\n\t\t\treturn selection;\n\t\t},\n\n\t\tresetSelection: function() {\n\t\t\tthis.getMainWidget().getSelectionModel().resetSelection();\n\t\t},\n\n\t\tgetSingleSelection: function() {\n\t\t\tvar selection = this.getSelection();\n\t\t\tif(selection.length !== 1) return null;\n\t\t\treturn selection[0];\n\t\t},\n\n\t\tgetSelectedRowIndex: function() {\n\t\t\tvar selectedRowIndex = null;\n\t\t\tthis.getMainWidget().getSelectionModel().iterateSelection(function(rowIndex) {\n\t\t\t\tselectedRowIndex = rowIndex;\n\t\t\t});\n\t\t\treturn selectedRowIndex;\n\t\t},\n\n\t\tsetSelectedRowIndex: function(rowIndex, setFocus) {\n\t\t\tthis.getMainWidget().getSelectionModel().setSelectionInterval(rowIndex, rowIndex);\n\t\t\tif(setFocus) this.getMainWidget().setFocusedCell(0, rowIndex, true);\n\t\t},\n\n\t\tselectAll: function() {\n\t\t\tthis.getMainWidget().getSelectionModel().setSelectionInterval(0, this.getTableModel().getRowCount() - 1);\n\t\t},\n\n\t\t// Component overrides\n\n\t\t_updateUI: function(value) {\n\t\t\t// Setting the model data requires some cooperation from the model implementation\n\t\t\tvar tableModel = this.getTableModel();\n\t\t\tif(tableModel && tableModel.setData && typeof(tableModel.setData) == \"function\") {\n\t\t\t\ttableModel.setData(value);\n\t\t\t}\n\t\t},\n\n\t\taddEventHandler: function(eventName, handler, onlyOnce) {\n\t\t\tswitch(eventName) {\n\t\t\tcase \"dataChanged\":\n\t\t\t\tvar methodName = onlyOnce ? \"addListenerOnce\" : \"addListener\";\n\t\t\t\tthis.getTableModel()[methodName](\"dataChanged\", handler, this);\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tthis.base(arguments, eventName, handler, onlyOnce);\n\t\t},\n\n\t\t_applyValid: function() {\n\t\t\t// Overriden in order to prevent default handling\n\t\t},\n\n\t\t_applyRequired: function() {\n\t\t\t// Overriden in order to prevent default handling\n\t\t\t// TODO Qookery: Add a validator that checks that table is not empty\n\t\t}\n\t},\n\n\tdestruct: function() {\n\t\tthis.__columns.length = 0;\n\t\tthis._disposeObjects(\"__tableModel\");\n\t}\n});\n"
  ]
}