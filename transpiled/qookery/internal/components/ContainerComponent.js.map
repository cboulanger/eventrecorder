{
  "version": 3,
  "sources": [
    "/home/travis/build/cboulanger/eventrecorder/qx_packages/ergobyte_qookery_892f44d1d1ae5d65c7dd99b18da6876de2f2a920/qookery/source/class/qookery/internal/components/ContainerComponent.js"
  ],
  "names": [
    "qx",
    "Bootstrap",
    "executePendingDefers",
    "$$dbClassInfo",
    "Class",
    "define",
    "type",
    "extend",
    "qookery",
    "internal",
    "components",
    "Component",
    "implement",
    "IContainerComponent",
    "construct",
    "parentComponent",
    "__children",
    "members",
    "_containerWidget",
    "__layout",
    "getAttributeType",
    "attributeName",
    "create",
    "attributes",
    "layoutName",
    "getAttribute",
    "layoutFactory",
    "Qookery",
    "getRegistry",
    "get",
    "IRegistry",
    "P_LAYOUT_FACTORY",
    "layout",
    "createLayout",
    "getContainerWidget",
    "setLayout",
    "_createWidgets",
    "_createContainerWidget",
    "Error",
    "listChildren",
    "add",
    "component",
    "_addChildComponent",
    "container",
    "lang",
    "Type",
    "isFunction",
    "getLayout",
    "widgets",
    "listWidgets",
    "i",
    "length",
    "widget",
    "configureWidget",
    "remove",
    "_removeChildComponent",
    "contains",
    "Array",
    "validate",
    "getEnabled",
    "getVisibility",
    "errors",
    "children",
    "child",
    "childError",
    "push",
    "util",
    "ValidationError",
    "destruct",
    "_disposeArray",
    "_disposeObjects",
    "ContainerComponent"
  ],
  "mappings": "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",
  "sourcesContent": [
    "/*\n\tQookery - Declarative UI Building for Qooxdoo\n\n\tCopyright (c) Ergobyte Informatics S.A., www.ergobyte.gr\n\n\tLicensed under the Apache License, Version 2.0 (the \"License\");\n\tyou may not use this file except in compliance with the License.\n\tYou may obtain a copy of the License at\n\n\t\thttp://www.apache.org/licenses/LICENSE-2.0\n\n\tUnless required by applicable law or agreed to in writing, software\n\tdistributed under the License is distributed on an \"AS IS\" BASIS,\n\tWITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n\tSee the License for the specific language governing permissions and\n\tlimitations under the License.\n*/\n\n/**\n * Base class for components that are containers of other components\n */\nqx.Class.define(\"qookery.internal.components.ContainerComponent\", {\n\n\ttype: \"abstract\",\n\textend: qookery.internal.components.Component,\n\timplement: [ qookery.IContainerComponent ],\n\n\tconstruct: function(parentComponent) {\n\t\tthis.base(arguments, parentComponent);\n\t\tthis.__children = [ ];\n\t},\n\n\tmembers: {\n\n\t\t_containerWidget: null,\n\t\t__children: null,\n\t\t__layout: null,\n\n\t\t// Metadata\n\n\t\tgetAttributeType: function(attributeName) {\n\t\t\tswitch(attributeName) {\n\t\t\tcase \"layout\": return \"QName\";\n\t\t\t}\n\t\t\treturn this.base(arguments, attributeName);\n\t\t},\n\n\t\t// Construction\n\n\t\tcreate: function(attributes) {\n\t\t\tthis.base(arguments, attributes);\n\t\t\tvar layoutName = this.getAttribute(\"layout\", \"{http://www.qookery.org/ns/Form}grid\");\n\t\t\tif(layoutName === \"none\") return;\n\t\t\tvar layoutFactory = qookery.Qookery.getRegistry().get(qookery.IRegistry.P_LAYOUT_FACTORY, layoutName, true);\n\t\t\tvar layout = this.__layout = layoutFactory.createLayout(this);\n\t\t\tthis.getContainerWidget().setLayout(layout);\n\t\t},\n\n\t\t_createWidgets: function() {\n\t\t\tthis._containerWidget = this._createContainerWidget();\n\t\t\treturn [ this._containerWidget ];\n\t\t},\n\n\t\t_createContainerWidget: function() {\n\t\t\tthrow new Error(\"Override _createContainerWidget() to provide implementation specific code\");\n\t\t},\n\n\t\tgetContainerWidget: function() {\n\t\t\treturn this._containerWidget;\n\t\t},\n\n\t\tlistChildren: function() {\n\t\t\treturn this.__children;\n\t\t},\n\n\t\tadd: function(component) {\n\t\t\tthis._addChildComponent(component);\n\t\t\tvar container = this.getContainerWidget();\n\t\t\tvar layout = qx.lang.Type.isFunction(container[\"getLayout\"]) ? container.getLayout() : null;\n\t\t\tvar widgets = component.listWidgets();\n\t\t\tfor(var i = 0; i < widgets.length; i++) {\n\t\t\t\tvar widget = widgets[i];\n\t\t\t\tif(layout != null && qx.lang.Type.isFunction(layout.configureWidget))\n\t\t\t\t\tlayout.configureWidget(widget);\n\t\t\t\tcontainer.add(widget);\n\t\t\t}\n\t\t},\n\n\t\tremove: function(component) {\n\t\t\tvar container = this.getContainerWidget();\n\t\t\tvar widgets = component.listWidgets();\n\t\t\tfor(var i = 0; i < widgets.length; i++)\n\t\t\t\tcontainer.remove(widgets[i]);\n\t\t\tthis._removeChildComponent(component);\n\t\t},\n\n\t\tcontains: function(component) {\n\t\t\treturn qx.lang.Array.contains(this.__children, component);\n\t\t},\n\n\t\tvalidate: function() {\n\t\t\tif(!this.getEnabled() || this.getVisibility() !== \"visible\") return null;\n\t\t\tvar errors = [ ];\n\t\t\tvar children = this.listChildren();\n\t\t\tfor(var i = 0; i < children.length; i++) {\n\t\t\t\tvar child = children[i];\n\t\t\t\tvar childError = child.validate();\n\t\t\t\tif(childError == null) continue;\n\t\t\t\terrors.push(childError);\n\t\t\t}\n\t\t\tif(errors.length === 0) return null;\n\t\t\tif(errors.length === 1) return errors[0];\n\t\t\treturn new qookery.util.ValidationError(this, null, errors);\n\t\t},\n\n\t\t// Internals\n\n\t\t_addChildComponent: function(component) {\n\t\t\tthis.__children.push(component);\n\t\t},\n\n\t\t_removeChildComponent: function(component) {\n\t\t\tqx.lang.Array.remove(this.__children, component);\n\t\t}\n\t},\n\n\tdestruct: function() {\n\t\tthis._disposeArray(\"__children\");\n\t\tthis._disposeObjects(\"__layout\");\n\t}\n});\n"
  ]
}