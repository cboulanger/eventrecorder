{
  "version": 3,
  "sources": [
    "/home/travis/build/cboulanger/eventrecorder/qx_packages/ergobyte_qookery_892f44d1d1ae5d65c7dd99b18da6876de2f2a920/qookery/source/class/qookery/internal/components/FieldComponent.js"
  ],
  "names": [
    "qx",
    "Bootstrap",
    "executePendingDefers",
    "$$dbClassInfo",
    "Class",
    "define",
    "type",
    "extend",
    "qookery",
    "internal",
    "components",
    "EditableComponent",
    "construct",
    "parentComponent",
    "members",
    "getAttributeType",
    "attributeName",
    "create",
    "attributes",
    "_setupTextField",
    "widget",
    "_applyAttribute",
    "Qookery",
    "getOption",
    "OPTION_DEFAULT_NATIVE_CONTEXT_MENU",
    "addListener",
    "event",
    "_disableValueEvents",
    "text",
    "getData",
    "trim",
    "length",
    "format",
    "getFormat",
    "value",
    "parse",
    "getEditableWidget",
    "setValue",
    "_getLabelOf",
    "_setValueSilently",
    "isReadOnly",
    "isShiftPressed",
    "isAltPressed",
    "isCtrlPressed",
    "getKeyIdentifier",
    "liveUpdate",
    "getAttribute",
    "OPTION_DEFAULT_LIVE_UPDATE",
    "addListenerOnce",
    "component",
    "bom",
    "Event",
    "addNativeListener",
    "getContentElement",
    "getDomElement",
    "getValue",
    "setLiveUpdate",
    "_updateUI",
    "_applyReadOnly",
    "readOnly",
    "editableWidget",
    "setReadOnly",
    "FieldComponent"
  ],
  "mappings": ";;;;;;;;;;;;;;;AAAAA,EAAAA,EAAE,CAACC,SAAH,CAAaC,oBAAb,CAAkCC,aAAlC;;AAAA;;;;;;;;;;;;;;;;;AAkBAH,EAAAA,EAAE,CAACI,KAAH,CAASC,MAAT,CAAgB,4CAAhB,EAA8D;AAE7DC,IAAAA,IAAI,EAAE,UAFuD;AAG7DC,IAAAA,MAAM,EAAEC,OAAO,CAACC,QAAR,CAAiBC,UAAjB,CAA4BC,iBAHyB;AAK7DC,IAAAA,SAAS,EAAE,mBAASC,eAAT,EAA0B;AACpC,2EAAqBA,eAArB;AACA,KAP4D;AAS7DC,IAAAA,OAAO,EAAE;AAER;AAEAC,MAAAA,gBAAgB,EAAE,0BAASC,aAAT,EAAwB;AACzC,gBAAOA,aAAP;AACA,eAAK,QAAL;AAAe,mBAAO,mBAAP;;AACf,eAAK,YAAL;AAAmB,mBAAO,SAAP;;AACnB,eAAK,aAAL;AAAoB,mBAAO,mBAAP;;AACpB,eAAK,YAAL;AAAmB,mBAAO,QAAP;AAJnB;;AAMA,qGAA4BA,aAA5B;AACA,OAZO;AAcR;AAEAC,MAAAA,MAAM,EAAE,gBAASC,UAAT,EAAqB;AAC5B,oFAAqBA,UAArB;AACA,OAlBO;AAoBRC,MAAAA,eAAe,EAAE,yBAASC,MAAT,EAAiB;AACjC,aAAKC,eAAL,CAAqB,qBAArB,EAA4CD,MAA5C,EAAoD,mBAApD,EAAyEZ,OAAO,CAACc,OAAR,CAAgBC,SAAhB,CAA0Bf,OAAO,CAACc,OAAR,CAAgBE,kCAA1C,CAAzE;;AACAJ,QAAAA,MAAM,CAACK,WAAP,CAAmB,aAAnB,EAAkC,UAASC,KAAT,EAAgB;AACjD,cAAG,KAAKC,mBAAR,EACC;AACD,cAAIC,IAAI,GAAGF,KAAK,CAACG,OAAN,EAAX;AACA,cAAGD,IAAI,IAAI,IAAR,IAAgBA,IAAI,CAACE,IAAL,GAAYC,MAAZ,KAAuB,CAA1C,EACCH,IAAI,GAAG,IAAP;AACD,cAAII,MAAM,GAAG,KAAKC,SAAL,EAAb;AACA,cAAIC,KAAK,GAAGF,MAAM,IAAI,IAAV,GAAiBA,MAAM,CAACG,KAAP,CAAaP,IAAb,CAAjB,GAAsCA,IAAlD;AACA,eAAKQ,iBAAL,GAAyBC,QAAzB,CAAkC,KAAKC,WAAL,CAAiBJ,KAAjB,CAAlC;;AACA,eAAKK,iBAAL,CAAuBL,KAAvB;AACA,SAVD,EAUG,IAVH;AAWAd,QAAAA,MAAM,CAACK,WAAP,CAAmB,UAAnB,EAA+B,UAASC,KAAT,EAAgB;AAC9C,cAAG,KAAKc,UAAL,MAAqB,CAACd,KAAK,CAACe,cAAN,EAAtB,IAAgDf,KAAK,CAACgB,YAAN,EAAhD,IAAwEhB,KAAK,CAACiB,aAAN,EAA3E,EACC;;AACD,kBAAOjB,KAAK,CAACkB,gBAAN,EAAP;AACA,iBAAK,QAAL;AACA,iBAAK,WAAL;AACC,mBAAKP,QAAL,CAAc,IAAd;AACA;AAJD;AAMA,SATD,EASG,IATH;AAUA,YAAIQ,UAAU,GAAG,KAAKC,YAAL,CAAkB,aAAlB,EAAiCtC,OAAO,CAACc,OAAR,CAAgBC,SAAhB,CAA0Bf,OAAO,CAACc,OAAR,CAAgByB,0BAA1C,CAAjC,CAAjB;;AACA,YAAGF,UAAH,EAAe;AACdzB,UAAAA,MAAM,CAAC4B,eAAP,CAAuB,QAAvB,EAAiC,YAAW;AAC3C,gBAAIC,SAAS,GAAG,IAAhB;AACAjD,YAAAA,EAAE,CAACkD,GAAH,CAAOC,KAAP,CAAaC,iBAAb,CAA+BhC,MAAM,CAACiC,iBAAP,GAA2BC,aAA3B,EAA/B,EAA2E,OAA3E,EAAoF,YAAW;AAC9FL,cAAAA,SAAS,CAACZ,QAAV,CAAmB,KAAKH,KAAxB;AACA,aAFD;AAGA,WALD,EAKG,IALH;AAMAd,UAAAA,MAAM,CAACK,WAAP,CAAmB,MAAnB,EAA2B,UAASC,KAAT,EAAgB;AAC1C,gBAAG,KAAKC,mBAAR,EACC;AACD,gBAAIK,MAAM,GAAG,KAAKC,SAAL,EAAb;AACA,gBAAGD,MAAM,IAAI,IAAb,EACC;AACD,gBAAIJ,IAAI,GAAG,KAAKQ,iBAAL,GAAyBmB,QAAzB,EAAX;AACA,gBAAIrB,KAAK,GAAGF,MAAM,CAACG,KAAP,CAAaP,IAAb,CAAZ;AACAA,YAAAA,IAAI,GAAGI,MAAM,CAACA,MAAP,CAAcE,KAAd,CAAP;AACA,iBAAKE,iBAAL,GAAyBC,QAAzB,CAAkCT,IAAlC;AACA,WAVD,EAUG,IAVH;AAWAR,UAAAA,MAAM,CAACoC,aAAP,CAAqB,IAArB;AACA;;AACD,aAAKnC,eAAL,CAAqB,QAArB,EAA+BD,MAA/B,EAAuC,QAAvC;;AACA,aAAKC,eAAL,CAAqB,YAArB,EAAmCD,MAAnC,EAA2C,WAA3C;;AACA,aAAKC,eAAL,CAAqB,aAArB,EAAoCD,MAApC,EAA4C,aAA5C;;AACA,aAAKC,eAAL,CAAqB,YAArB,EAAmCD,MAAnC,EAA2C,WAA3C;;AACA,eAAOA,MAAP;AACA,OArEO;AAuERqC,MAAAA,SAAS,EAAE,mBAASvB,KAAT,EAAgB;AAC1B,aAAKE,iBAAL,GAAyBC,QAAzB,CAAkC,KAAKC,WAAL,CAAiBJ,KAAjB,CAAlC;AACA,OAzEO;AA2ERwB,MAAAA,cAAc,EAAE,wBAASC,QAAT,EAAmB;AAClC,4FAAqBA,QAArB;;AACA,YAAIC,cAAc,GAAG,KAAKxB,iBAAL,EAArB;AACA,YAAGwB,cAAc,IAAI,IAArB,EACCA,cAAc,CAACC,WAAf,CAA2BF,QAA3B;AACD;AAhFO;AAToD,GAA9D;AAlBAnD,EAAAA,OAAO,CAACC,QAAR,CAAiBC,UAAjB,CAA4BoD,cAA5B,CAA2C3D,aAA3C,GAA2DA,aAA3D",
  "sourcesContent": [
    "/*\n\tQookery - Declarative UI Building for Qooxdoo\n\n\tCopyright (c) Ergobyte Informatics S.A., www.ergobyte.gr\n\n\tLicensed under the Apache License, Version 2.0 (the \"License\");\n\tyou may not use this file except in compliance with the License.\n\tYou may obtain a copy of the License at\n\n\t\thttp://www.apache.org/licenses/LICENSE-2.0\n\n\tUnless required by applicable law or agreed to in writing, software\n\tdistributed under the License is distributed on an \"AS IS\" BASIS,\n\tWITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n\tSee the License for the specific language governing permissions and\n\tlimitations under the License.\n*/\n\nqx.Class.define(\"qookery.internal.components.FieldComponent\", {\n\n\ttype: \"abstract\",\n\textend: qookery.internal.components.EditableComponent,\n\n\tconstruct: function(parentComponent) {\n\t\tthis.base(arguments, parentComponent);\n\t},\n\n\tmembers: {\n\n\t\t// Metadata\n\n\t\tgetAttributeType: function(attributeName) {\n\t\t\tswitch(attributeName) {\n\t\t\tcase \"filter\": return \"RegularExpression\";\n\t\t\tcase \"max-length\": return \"Integer\";\n\t\t\tcase \"placeholder\": return \"ReplaceableString\";\n\t\t\tcase \"text-align\": return \"String\";\n\t\t\t}\n\t\t\treturn this.base(arguments, attributeName);\n\t\t},\n\n\t\t// Construction\n\n\t\tcreate: function(attributes) {\n\t\t\tthis.base(arguments, attributes);\n\t\t},\n\n\t\t_setupTextField: function(widget) {\n\t\t\tthis._applyAttribute(\"native-context-menu\", widget, \"nativeContextMenu\", qookery.Qookery.getOption(qookery.Qookery.OPTION_DEFAULT_NATIVE_CONTEXT_MENU));\n\t\t\twidget.addListener(\"changeValue\", function(event) {\n\t\t\t\tif(this._disableValueEvents)\n\t\t\t\t\treturn;\n\t\t\t\tvar text = event.getData();\n\t\t\t\tif(text != null && text.trim().length === 0)\n\t\t\t\t\ttext = null;\n\t\t\t\tvar format = this.getFormat();\n\t\t\t\tvar value = format != null ? format.parse(text) : text;\n\t\t\t\tthis.getEditableWidget().setValue(this._getLabelOf(value));\n\t\t\t\tthis._setValueSilently(value);\n\t\t\t}, this);\n\t\t\twidget.addListener(\"keypress\", function(event) {\n\t\t\t\tif(this.isReadOnly() || !event.isShiftPressed() || event.isAltPressed() || event.isCtrlPressed())\n\t\t\t\t\treturn;\n\t\t\t\tswitch(event.getKeyIdentifier()) {\n\t\t\t\tcase \"Delete\":\n\t\t\t\tcase \"Backspace\":\n\t\t\t\t\tthis.setValue(null);\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t}, this);\n\t\t\tvar liveUpdate = this.getAttribute(\"live-update\", qookery.Qookery.getOption(qookery.Qookery.OPTION_DEFAULT_LIVE_UPDATE));\n\t\t\tif(liveUpdate) {\n\t\t\t\twidget.addListenerOnce(\"appear\", function() {\n\t\t\t\t\tvar component = this;\n\t\t\t\t\tqx.bom.Event.addNativeListener(widget.getContentElement().getDomElement(), \"paste\", function() {\n\t\t\t\t\t\tcomponent.setValue(this.value);\n\t\t\t\t\t});\n\t\t\t\t}, this);\n\t\t\t\twidget.addListener(\"blur\", function(event) {\n\t\t\t\t\tif(this._disableValueEvents)\n\t\t\t\t\t\treturn;\n\t\t\t\t\tvar format = this.getFormat();\n\t\t\t\t\tif(format == null)\n\t\t\t\t\t\treturn;\n\t\t\t\t\tvar text = this.getEditableWidget().getValue();\n\t\t\t\t\tvar value = format.parse(text);\n\t\t\t\t\ttext = format.format(value);\n\t\t\t\t\tthis.getEditableWidget().setValue(text);\n\t\t\t\t}, this);\n\t\t\t\twidget.setLiveUpdate(true);\n\t\t\t}\n\t\t\tthis._applyAttribute(\"filter\", widget, \"filter\");\n\t\t\tthis._applyAttribute(\"max-length\", widget, \"maxLength\");\n\t\t\tthis._applyAttribute(\"placeholder\", widget, \"placeholder\");\n\t\t\tthis._applyAttribute(\"text-align\", widget, \"textAlign\");\n\t\t\treturn widget;\n\t\t},\n\n\t\t_updateUI: function(value) {\n\t\t\tthis.getEditableWidget().setValue(this._getLabelOf(value));\n\t\t},\n\n\t\t_applyReadOnly: function(readOnly) {\n\t\t\tthis.base(arguments, readOnly);\n\t\t\tvar editableWidget = this.getEditableWidget();\n\t\t\tif(editableWidget != null)\n\t\t\t\teditableWidget.setReadOnly(readOnly);\n\t\t}\n\t}\n});\n"
  ]
}