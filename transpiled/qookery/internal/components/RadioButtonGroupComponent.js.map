{
  "version": 3,
  "sources": [
    "/home/travis/build/cboulanger/eventrecorder/qx_packages/ergobyte_qookery_892f44d1d1ae5d65c7dd99b18da6876de2f2a920/qookery/source/class/qookery/internal/components/RadioButtonGroupComponent.js"
  ],
  "names": [
    "qx",
    "Bootstrap",
    "executePendingDefers",
    "$$dbClassInfo",
    "Class",
    "define",
    "extend",
    "qookery",
    "internal",
    "components",
    "EditableComponent",
    "implement",
    "IContainerComponent",
    "construct",
    "parentComponent",
    "__children",
    "members",
    "getAttributeType",
    "attributeName",
    "_createMainWidget",
    "layoutName",
    "getAttribute",
    "layoutFactory",
    "Qookery",
    "getRegistry",
    "get",
    "IRegistry",
    "P_LAYOUT_FACTORY",
    "layout",
    "createLayout",
    "radioButtonGroup",
    "ui",
    "form",
    "RadioButtonGroup",
    "getRadioGroup",
    "setAllowEmptySelection",
    "addListener",
    "event",
    "_disableValueEvents",
    "selection",
    "getData",
    "model",
    "length",
    "getModel",
    "setValue",
    "_applyWidgetAttributes",
    "setItems",
    "items",
    "__removeAllGroupItems",
    "data",
    "Array",
    "toArray",
    "lang",
    "Type",
    "isArray",
    "map",
    "label",
    "_getLabelOf",
    "__addGroupItem",
    "isObject",
    "Error",
    "setSelection",
    "itemNumber",
    "selectablesItems",
    "getMainWidget",
    "getSelectables",
    "add",
    "childComponent",
    "radioButton",
    "hasInterface",
    "constructor",
    "IRadioItem",
    "push",
    "listChildren",
    "remove",
    "component",
    "contains",
    "_updateUI",
    "value",
    "resetSelection",
    "selectionFound",
    "buttons",
    "getChildren",
    "modelProvider",
    "getForm",
    "getModelProvider",
    "i",
    "button",
    "areEqual",
    "setFocusable",
    "groupItem",
    "RadioButton",
    "setModel",
    "tabIndex",
    "setTabIndex",
    "removeAll",
    "forEach",
    "widget",
    "dispose",
    "destruct",
    "_disposeArray",
    "RadioButtonGroupComponent"
  ],
  "mappings": "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",
  "sourcesContent": [
    "/*\n\tQookery - Declarative UI Building for Qooxdoo\n\n\tCopyright (c) Ergobyte Informatics S.A., www.ergobyte.gr\n\n\tLicensed under the Apache License, Version 2.0 (the \"License\");\n\tyou may not use this file except in compliance with the License.\n\tYou may obtain a copy of the License at\n\n\t\thttp://www.apache.org/licenses/LICENSE-2.0\n\n\tUnless required by applicable law or agreed to in writing, software\n\tdistributed under the License is distributed on an \"AS IS\" BASIS,\n\tWITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n\tSee the License for the specific language governing permissions and\n\tlimitations under the License.\n*/\n\nqx.Class.define(\"qookery.internal.components.RadioButtonGroupComponent\", {\n\n\textend: qookery.internal.components.EditableComponent,\n\timplement: [ qookery.IContainerComponent ],\n\n\tconstruct: function(parentComponent) {\n\t\tthis.base(arguments, parentComponent);\n\t\tthis.__children = [ ];\n\t},\n\n\tmembers: {\n\n\t\t__children: null,\n\n\t\t// Metadata\n\n\t\tgetAttributeType: function(attributeName) {\n\t\t\tswitch(attributeName) {\n\t\t\tcase \"allow-empty-selection\": return \"Boolean\";\n\t\t\tcase \"layout\": return \"QName\";\n\t\t\tdefault: return this.base(arguments, attributeName);\n\t\t\t}\n\t\t},\n\n\t\t// Creation\n\n\t\t_createMainWidget: function() {\n\t\t\tvar layoutName = this.getAttribute(\"layout\", \"{http://www.qookery.org/ns/Form}h-box\");\n\t\t\tvar layoutFactory = qookery.Qookery.getRegistry().get(qookery.IRegistry.P_LAYOUT_FACTORY, layoutName, true);\n\t\t\tvar layout = layoutFactory.createLayout(this);\n\t\t\tvar radioButtonGroup = new qx.ui.form.RadioButtonGroup(layout);\n\t\t\tradioButtonGroup.getRadioGroup().setAllowEmptySelection(this.getAttribute(\"allow-empty-selection\", false));\n\t\t\tradioButtonGroup.addListener(\"changeSelection\", function(event) {\n\t\t\t\tif(this._disableValueEvents) return;\n\t\t\t\tvar selection = event.getData();\n\t\t\t\tvar model = selection.length !== 1 ? null : selection[0].getModel();\n\t\t\t\tthis.setValue(model);\n\t\t\t}, this);\n\n\t\t\tthis._applyWidgetAttributes(radioButtonGroup);\n\t\t\treturn radioButtonGroup;\n\t\t},\n\n\t\t// Public methods\n\n\t\tsetItems: function(items) {\n\t\t\tthis.__removeAllGroupItems();\n\t\t\tif(items == null) return;\n\t\t\tif(items instanceof qx.data.Array) {\n\t\t\t\titems = items.toArray();\n\t\t\t}\n\t\t\tif(qx.lang.Type.isArray(items)) {\n\t\t\t\titems.map(function(model) {\n\t\t\t\t\tvar label = this._getLabelOf(model);\n\t\t\t\t\tthis.__addGroupItem(model, label);\n\t\t\t\t}, this);\n\t\t\t}\n\t\t\telse if(qx.lang.Type.isObject(items)) {\n\t\t\t\tfor(var model in items) {\n\t\t\t\t\tvar label = items[model];\n\t\t\t\t\tthis.__addGroupItem(model, label);\n\t\t\t\t}\n\t\t\t}\n\t\t\telse throw new Error(\"Items are of unsupported type\");\n\t\t},\n\n\t\tsetSelection: function(itemNumber) {\n\t\t\tvar selectablesItems = this.getMainWidget().getSelectables(true);\n\t\t\tif(selectablesItems.length === 0) return;\n\t\t\tthis.getMainWidget().setSelection([selectablesItems[itemNumber]]);\n\t\t},\n\n\t\t// IContainerComponent implementation\n\n\t\tadd: function(childComponent) {\n\t\t\tvar radioButton = childComponent.getMainWidget();\n\t\t\tif(!qx.Class.hasInterface(radioButton.constructor, qx.ui.form.IRadioItem))\n\t\t\t\tthrow new Error(\"<radio-button-group> supports only components with main widgets implementing IRadioItem\");\n\t\t\tthis.getMainWidget().add(radioButton);\n\t\t\tthis.__children.push(childComponent);\n\t\t},\n\n\t\tlistChildren: function() {\n\t\t\treturn this.__children;\n\t\t},\n\n\t\tremove: function(component) {\n\t\t\t// TODO RadioButtonGroup: Implement removal of children\n\t\t},\n\n\t\tcontains: function(component) {\n\t\t\t// TODO RadioButtonGroup: Implement contains()\n\t\t},\n\n\t\t// Internals\n\n\t\t_updateUI: function(value) {\n\t\t\tif(value == null) {\n\t\t\t\tthis.getMainWidget().resetSelection();\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tvar radioButtonGroup = this.getMainWidget();\n\t\t\tvar selectionFound = false;\n\t\t\tvar buttons = radioButtonGroup.getChildren();\n\t\t\tvar modelProvider = this.getForm().getModelProvider();\n\t\t\tfor(var i = 0; i < buttons.length; i++) {\n\t\t\t\tvar button = buttons[i];\n\t\t\t\tvar model = button.getModel();\n\t\t\t\tif(!modelProvider.areEqual(model, value)) {\n\t\t\t\t\tbutton.setFocusable(false);\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tbutton.setFocusable(true);\n\t\t\t\t\tradioButtonGroup.setSelection([ button ]);\n\t\t\t\t\tselectionFound = true;\n\t\t\t\t}\n\t\t\t}\n\t\t\tif(selectionFound != null) return;\n\t\t\tradioButtonGroup.resetSelection();\n\t\t\tif(buttons.length > 0) buttons[0].setFocusable(true);\n\t\t},\n\n\t\t__addGroupItem: function(model, label) {\n\t\t\tvar groupItem = new qx.ui.form.RadioButton(label);\n\t\t\tgroupItem.setModel(model);\n\t\t\tgroupItem.setFocusable(false);\n\t\t\tvar tabIndex = this.getAttribute(\"tab-index\");\n\t\t\tif(tabIndex != null)\n\t\t\t\tgroupItem.setTabIndex(tabIndex);\n\t\t\tthis.getMainWidget().add(groupItem);\n\t\t},\n\n\t\t__removeAllGroupItems: function() {\n\t\t\tthis.getMainWidget().removeAll().forEach(function(widget) { widget.dispose(); });\n\t\t}\n\t},\n\n\tdestruct: function() {\n\t\tthis._disposeArray(\"__children\");\n\t}\n});\n"
  ]
}