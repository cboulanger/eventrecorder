{
  "version": 3,
  "sources": [
    "/home/travis/build/cboulanger/eventrecorder/qx_packages/ergobyte_qookery_892f44d1d1ae5d65c7dd99b18da6876de2f2a920/qookery/source/class/qookery/internal/components/SelectBoxComponent.js"
  ],
  "names": [
    "qx",
    "Bootstrap",
    "executePendingDefers",
    "$$dbClassInfo",
    "Class",
    "define",
    "extend",
    "qookery",
    "internal",
    "components",
    "AbstractSelectBoxComponent",
    "construct",
    "parentComponent",
    "members",
    "_createMainWidget",
    "selectBox",
    "ui",
    "form",
    "SelectBox",
    "setFormat",
    "__getListItemLabel",
    "bind",
    "addListener",
    "event",
    "_disableValueEvents",
    "newSelection",
    "getData",
    "model",
    "getModel",
    "_NULL_ITEM_MODEL",
    "setValue",
    "isShiftPressed",
    "isAltPressed",
    "isCtrlPressed",
    "getKeyIdentifier",
    "preventDefault",
    "_applySelectBoxAttributes",
    "listItem",
    "getLabel",
    "_updateUI",
    "value",
    "matchingItem",
    "getMainWidget",
    "listItems",
    "getChildren",
    "modelProvider",
    "getForm",
    "getModelProvider",
    "i",
    "length",
    "item",
    "areEqual",
    "showingPlaceholder",
    "setSelection",
    "resetSelection",
    "getRequired",
    "addState",
    "removeState",
    "itemNumber",
    "selectablesItems",
    "getSelectables",
    "undefined",
    "SelectBoxComponent"
  ],
  "mappings": "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",
  "sourcesContent": [
    "/*\n\tQookery - Declarative UI Building for Qooxdoo\n\n\tCopyright (c) Ergobyte Informatics S.A., www.ergobyte.gr\n\n\tLicensed under the Apache License, Version 2.0 (the \"License\");\n\tyou may not use this file except in compliance with the License.\n\tYou may obtain a copy of the License at\n\n\t\thttp://www.apache.org/licenses/LICENSE-2.0\n\n\tUnless required by applicable law or agreed to in writing, software\n\tdistributed under the License is distributed on an \"AS IS\" BASIS,\n\tWITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n\tSee the License for the specific language governing permissions and\n\tlimitations under the License.\n*/\n\n/**\n * Component for {@link qx.ui.form.SelectBox}\n */\nqx.Class.define(\"qookery.internal.components.SelectBoxComponent\", {\n\n\textend: qookery.internal.components.AbstractSelectBoxComponent,\n\n\tconstruct: function(parentComponent) {\n\t\tthis.base(arguments, parentComponent);\n\t},\n\n\tmembers: {\n\n\t\t_createMainWidget: function() {\n\t\t\tvar selectBox = new qx.ui.form.SelectBox();\n\t\t\tselectBox.setFormat(this.__getListItemLabel.bind(this));\n\t\t\tselectBox.addListener(\"changeSelection\", function(event) {\n\t\t\t\tif(this._disableValueEvents) return;\n\t\t\t\tvar newSelection = event.getData()[0];\n\t\t\t\tvar model = newSelection ? newSelection.getModel() : null;\n\t\t\t\tif(model === qookery.internal.components.AbstractSelectBoxComponent._NULL_ITEM_MODEL) model = null;\n\t\t\t\tthis.setValue(model);\n\t\t\t}, this);\n\t\t\tselectBox.addListener(\"keypress\", function(event) {\n\t\t\t\tif(event.isShiftPressed() || event.isAltPressed() || event.isCtrlPressed()) return;\n\t\t\t\tswitch(event.getKeyIdentifier()) {\n\t\t\t\tcase \"Delete\":\n\t\t\t\tcase \"Backspace\":\n\t\t\t\t\tthis.setValue(null);\n\t\t\t\t\tevent.preventDefault();\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t}, this);\n\t\t\tthis._applySelectBoxAttributes(selectBox);\n\t\t\treturn selectBox;\n\t\t},\n\n\t\t__getListItemLabel: function(listItem) {\n\t\t\tif(listItem == null) return \"\";\n\t\t\treturn listItem.getLabel();\n\t\t},\n\n\t\t_updateUI: function(value) {\n\t\t\tif(value == null)\n\t\t\t\tvalue = qookery.internal.components.AbstractSelectBoxComponent._NULL_ITEM_MODEL;\n\t\t\tvar matchingItem = null;\n\t\t\tvar selectBox = this.getMainWidget();\n\t\t\tvar listItems = selectBox.getChildren();\n\t\t\tvar modelProvider = this.getForm().getModelProvider();\n\t\t\tfor(var i = 0; i < listItems.length; i++) {\n\t\t\t\tvar listItem = listItems[i];\n\t\t\t\tvar item = listItem.getModel();\n\t\t\t\tif(!modelProvider.areEqual(item, value)) continue;\n\t\t\t\tmatchingItem = listItem;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tvar showingPlaceholder = true;\n\t\t\tif(matchingItem != null) {\n\t\t\t\tselectBox.setSelection([ matchingItem ]);\n\t\t\t\tshowingPlaceholder = value === qookery.internal.components.AbstractSelectBoxComponent._NULL_ITEM_MODEL;\n\t\t\t}\n\t\t\telse {\n\t\t\t\tselectBox.resetSelection();\n\t\t\t}\n\t\t\tif(showingPlaceholder && this.getRequired())\n\t\t\t\tselectBox.addState(\"showingPlaceholder\");\n\t\t\telse\n\t\t\t\tselectBox.removeState(\"showingPlaceholder\");\n\t\t},\n\n\t\tsetSelection: function(itemNumber) {\n\t\t\tvar selectablesItems = this.getMainWidget().getSelectables(true);\n\t\t\tif(!selectablesItems || selectablesItems[itemNumber] === undefined) return;\n\t\t\tthis.getMainWidget().setSelection([ selectablesItems[itemNumber] ]);\n\t\t}\n\t}\n});\n"
  ]
}