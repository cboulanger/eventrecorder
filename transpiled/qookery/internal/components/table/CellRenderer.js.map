{
  "version": 3,
  "sources": [
    "/home/travis/build/cboulanger/eventrecorder/qx_packages/ergobyte_qookery_892f44d1d1ae5d65c7dd99b18da6876de2f2a920/qookery/source/class/qookery/internal/components/table/CellRenderer.js"
  ],
  "names": [
    "qx",
    "Bootstrap",
    "executePendingDefers",
    "$$dbClassInfo",
    "Class",
    "define",
    "extend",
    "ui",
    "table",
    "cellrenderer",
    "Abstract",
    "statics",
    "CSS_KEYS",
    "construct",
    "component",
    "column",
    "__column",
    "__component",
    "__format",
    "qookery",
    "Qookery",
    "getRegistry",
    "createFormat",
    "__map",
    "getMap",
    "styleActionName",
    "isActionSupported",
    "Error",
    "lang",
    "String",
    "format",
    "toString",
    "__styleActionName",
    "members",
    "_getContentHtml",
    "cellInfo",
    "text",
    "_formatValue",
    "bom",
    "escape",
    "value",
    "e",
    "warn",
    "mappedValue",
    "modelProvider",
    "getForm",
    "getModelProvider",
    "label",
    "getLabel",
    "_getCellStyle",
    "style",
    "internal",
    "components",
    "CellRenderer",
    "reduce",
    "cellStyle",
    "key",
    "result",
    "executeAction",
    "Object",
    "mergeWith",
    "getColumn",
    "destruct",
    "_disposeObjects"
  ],
  "mappings": ";;;;;;;;;;;;;;;;;;;;;AAAAA,EAAAA,EAAE,CAACC,SAAH,CAAaC,oBAAb,CAAkCC,aAAlC;;AAAA;;;;;;;;;;;;;;;;;AAkBAH,EAAAA,EAAE,CAACI,KAAH,CAASC,MAAT,CAAgB,gDAAhB,EAAkE;AAEjEC,IAAAA,MAAM,EAAEN,EAAE,CAACO,EAAH,CAAMC,KAAN,CAAYC,YAAZ,CAAyBC,QAFgC;AAIjEC,IAAAA,OAAO,EAAE;AAERC,MAAAA,QAAQ,EAAE,CACT,YADS,EACK,OADL,EACc,aADd,EAC6B,WAD7B,EAC0C,YAD1C,EACwD,aADxD,EACuE,aADvE,EACsF,aADtF;AAFF,KAJwD;AAWjEC,IAAAA,SAAS,EAAE,mBAASC,SAAT,EAAoBC,MAApB,EAA4B;AACtC;AACA,WAAKC,QAAL,GAAgBD,MAAhB;AACA,WAAKE,WAAL,GAAmBH,SAAnB;AACA,WAAKI,QAAL,GAAgBH,MAAM,CAAC,QAAD,CAAN,IAAoB,IAApB,GAA2BI,OAAO,CAACC,OAAR,CAAgBC,WAAhB,GAA8BC,YAA9B,CAA2CP,MAAM,CAAC,QAAD,CAAjD,CAA3B,GAA0F,IAA1G;AACA,WAAKQ,KAAL,GAAaR,MAAM,CAAC,KAAD,CAAN,IAAiB,IAAjB,GAAwBI,OAAO,CAACC,OAAR,CAAgBC,WAAhB,GAA8BG,MAA9B,CAAqCT,MAAM,CAAC,KAAD,CAA3C,CAAxB,GAA8E,IAA3F;AACA,UAAIU,eAAe,GAAGV,MAAM,CAAC,wBAAD,CAAN,IAAoC,IAA1D;AACA,UAAGU,eAAe,IAAI,IAAnB,IAA2B,CAACX,SAAS,CAACY,iBAAV,CAA4BD,eAA5B,CAA/B,EACC,MAAM,IAAIE,KAAJ,CAAU3B,EAAE,CAAC4B,IAAH,CAAQC,MAAR,CAAeC,MAAf,CAAsB,8DAAtB,EAAsF,CAAEL,eAAF,EAAmBX,SAAS,CAACiB,QAAV,EAAnB,CAAtF,CAAV,CAAN,CADD,KAGC,KAAKC,iBAAL,GAAyBP,eAAzB;AACD,KAtBgE;AAwBjEQ,IAAAA,OAAO,EAAE;AAERjB,MAAAA,QAAQ,EAAE,IAFF;AAGRE,MAAAA,QAAQ,EAAE,IAHF;AAIRK,MAAAA,KAAK,EAAE,IAJC;AAKRS,MAAAA,iBAAiB,EAAE,IALX;AAMRf,MAAAA,WAAW,EAAE,IANL;AAQRiB,MAAAA,eAAe,EAAE,yBAASC,QAAT,EAAmB;AACnC,YAAIC,IAAI,GAAG,KAAKC,YAAL,CAAkBF,QAAlB,CAAX;;AACA,eAAOnC,EAAE,CAACsC,GAAH,CAAOT,MAAP,CAAcU,MAAd,CAAqBH,IAArB,CAAP;AACA,OAXO;AAaRC,MAAAA,YAAY,EAAE,sBAASF,QAAT,EAAmB;AAChC,YAAIK,KAAK,GAAGL,QAAQ,CAACK,KAArB;AACA,YAAGA,KAAK,IAAI,IAAZ,EAAkB,OAAO,EAAP;AAClB,YAAG,KAAKtB,QAAR,EAAkB,IAAI;AACrBsB,UAAAA,KAAK,GAAG,KAAKtB,QAAL,CAAcY,MAAd,CAAqBU,KAArB,CAAR;AACA,SAFiB,CAGlB,OAAMC,CAAN,EAAS;AACR,eAAKC,IAAL,CAAU,6BAAV,EAAyCD,CAAzC;AACA;;AACD,YAAG,KAAKlB,KAAL,IAAc,IAAjB,EAAuB;AACtB,cAAIoB,WAAW,GAAG,KAAKpB,KAAL,CAAWiB,KAAX,CAAlB;AACA,cAAGG,WAAW,IAAI,IAAlB,EACCH,KAAK,GAAGG,WAAR;AACD;;AACD,YAAIC,aAAa,GAAG,KAAK3B,WAAL,CAAiB4B,OAAjB,GAA2BC,gBAA3B,EAApB;;AACA,YAAIC,KAAK,GAAGH,aAAa,CAACI,QAAd,CAAuBR,KAAvB,EAA8B,OAA9B,CAAZ;AACA,eAAOO,KAAK,IAAI,IAAT,GAAgBA,KAAhB,GAAwB,EAA/B;AACA,OA9BO;AAgCRE,MAAAA,aAAa,EAAE,uBAASd,QAAT,EAAmB;AACjC,YAAIpB,MAAM,GAAG,KAAKC,QAAlB;AAEA,YAAIkC,KAAK,GAAG/B,OAAO,CAACgC,QAAR,CAAiBC,UAAjB,CAA4B5C,KAA5B,CAAkC6C,YAAlC,CAA+CzC,QAA/C,CAAwD0C,MAAxD,CAA+D,UAASC,SAAT,EAAoBC,GAApB,EAAyB;AACnG,cAAIhB,KAAK,GAAGzB,MAAM,CAACyC,GAAD,CAAlB;AACA,cAAGhB,KAAK,IAAI,IAAZ,EACCe,SAAS,CAACC,GAAD,CAAT,GAAiBhB,KAAjB;AACD,iBAAOe,SAAP;AACA,SALW,EAKT,EALS,CAAZ;;AAOA,YAAG,KAAKvB,iBAAL,IAA0B,IAA7B,EAAmC;AAClC,cAAIyB,MAAM,GAAG,KAAKxC,WAAL,CAAiByC,aAAjB,CAA+B,KAAK1B,iBAApC,EAAuDG,QAAvD,CAAb;;AACA,cAAGsB,MAAM,IAAI,IAAb,EACCzD,EAAE,CAAC4B,IAAH,CAAQ+B,MAAR,CAAeC,SAAf,CAAyBV,KAAzB,EAAgCO,MAAhC,EAAwC,IAAxC;AACD;;AAED,eAAOtC,OAAO,CAACgC,QAAR,CAAiBC,UAAjB,CAA4B5C,KAA5B,CAAkC6C,YAAlC,CAA+CzC,QAA/C,CAAwD0C,MAAxD,CAA+D,UAASC,SAAT,EAAoBC,GAApB,EAAyB;AAC9F,cAAIhB,KAAK,GAAGU,KAAK,CAACM,GAAD,CAAjB;AACA,cAAGhB,KAAK,IAAI,IAAZ,EACCe,SAAS,IAAIC,GAAG,GAAG,GAAN,GAAYhB,KAAZ,GAAoB,GAAjC;AACD,iBAAOe,SAAP;AACA,SALM,EAKJ,EALI,CAAP;AAMA,OAtDO;AAwDRM,MAAAA,SAAS,EAAE,qBAAW;AACrB,eAAO,KAAK7C,QAAZ;AACA;AA1DO,KAxBwD;AAqFjE8C,IAAAA,QAAQ,EAAE,oBAAW;AACpB,WAAKC,eAAL,CAAqB,UAArB;AACA;AAvFgE,GAAlE;AAlBA5C,EAAAA,OAAO,CAACgC,QAAR,CAAiBC,UAAjB,CAA4B5C,KAA5B,CAAkC6C,YAAlC,CAA+ClD,aAA/C,GAA+DA,aAA/D",
  "sourcesContent": [
    "/*\n\tQookery - Declarative UI Building for Qooxdoo\n\n\tCopyright (c) Ergobyte Informatics S.A., www.ergobyte.gr\n\n\tLicensed under the Apache License, Version 2.0 (the \"License\");\n\tyou may not use this file except in compliance with the License.\n\tYou may obtain a copy of the License at\n\n\t\thttp://www.apache.org/licenses/LICENSE-2.0\n\n\tUnless required by applicable law or agreed to in writing, software\n\tdistributed under the License is distributed on an \"AS IS\" BASIS,\n\tWITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n\tSee the License for the specific language governing permissions and\n\tlimitations under the License.\n*/\n\nqx.Class.define(\"qookery.internal.components.table.CellRenderer\", {\n\n\textend: qx.ui.table.cellrenderer.Abstract,\n\n\tstatics: {\n\n\t\tCSS_KEYS: [\n\t\t\t\"text-align\", \"color\", \"font-family\", \"font-size\", \"font-style\", \"font-weight\", \"line-height\", \"white-space\"\n\t\t]\n\t},\n\n\tconstruct: function(component, column) {\n\t\tthis.base(arguments);\n\t\tthis.__column = column;\n\t\tthis.__component = component;\n\t\tthis.__format = column[\"format\"] != null ? qookery.Qookery.getRegistry().createFormat(column[\"format\"]) : null;\n\t\tthis.__map = column[\"map\"] != null ? qookery.Qookery.getRegistry().getMap(column[\"map\"]) : null;\n\t\tvar styleActionName = column[\"cell-renderer-callback\"] || null;\n\t\tif(styleActionName != null && !component.isActionSupported(styleActionName))\n\t\t\tthrow new Error(qx.lang.String.format(\"Cell render callback '%1' is not supported by component '%2'\", [ styleActionName, component.toString() ]));\n\t\telse\n\t\t\tthis.__styleActionName = styleActionName;\n\t},\n\n\tmembers: {\n\n\t\t__column: null,\n\t\t__format: null,\n\t\t__map: null,\n\t\t__styleActionName: null,\n\t\t__component: null,\n\n\t\t_getContentHtml: function(cellInfo) {\n\t\t\tvar text = this._formatValue(cellInfo);\n\t\t\treturn qx.bom.String.escape(text);\n\t\t},\n\n\t\t_formatValue: function(cellInfo) {\n\t\t\tvar value = cellInfo.value;\n\t\t\tif(value == null) return \"\";\n\t\t\tif(this.__format) try {\n\t\t\t\tvalue = this.__format.format(value);\n\t\t\t}\n\t\t\tcatch(e) {\n\t\t\t\tthis.warn(\"Error formatting cell value\", e);\n\t\t\t}\n\t\t\tif(this.__map != null) {\n\t\t\t\tvar mappedValue = this.__map[value];\n\t\t\t\tif(mappedValue != null)\n\t\t\t\t\tvalue = mappedValue;\n\t\t\t}\n\t\t\tvar modelProvider = this.__component.getForm().getModelProvider();\n\t\t\tvar label = modelProvider.getLabel(value, \"short\");\n\t\t\treturn label != null ? label : \"\";\n\t\t},\n\n\t\t_getCellStyle: function(cellInfo) {\n\t\t\tvar column = this.__column;\n\n\t\t\tvar style = qookery.internal.components.table.CellRenderer.CSS_KEYS.reduce(function(cellStyle, key) {\n\t\t\t\tvar value = column[key];\n\t\t\t\tif(value != null)\n\t\t\t\t\tcellStyle[key] = value;\n\t\t\t\treturn cellStyle;\n\t\t\t}, { });\n\n\t\t\tif(this.__styleActionName != null) {\n\t\t\t\tvar result = this.__component.executeAction(this.__styleActionName, cellInfo);\n\t\t\t\tif(result != null)\n\t\t\t\t\tqx.lang.Object.mergeWith(style, result, true);\n\t\t\t}\n\n\t\t\treturn qookery.internal.components.table.CellRenderer.CSS_KEYS.reduce(function(cellStyle, key) {\n\t\t\t\tvar value = style[key];\n\t\t\t\tif(value != null)\n\t\t\t\t\tcellStyle += key + \":\" + value + \";\";\n\t\t\t\treturn cellStyle;\n\t\t\t}, \"\");\n\t\t},\n\n\t\tgetColumn: function() {\n\t\t\treturn this.__column;\n\t\t}\n\t},\n\n\tdestruct: function() {\n\t\tthis._disposeObjects(\"__format\");\n\t}\n});\n"
  ]
}