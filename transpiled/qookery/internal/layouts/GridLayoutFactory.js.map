{
  "version": 3,
  "sources": [
    "/home/travis/build/cboulanger/eventrecorder/qx_packages/ergobyte_qookery_892f44d1d1ae5d65c7dd99b18da6876de2f2a920/qookery/source/class/qookery/internal/layouts/GridLayoutFactory.js"
  ],
  "names": [
    "qx",
    "Bootstrap",
    "executePendingDefers",
    "$$dbClassInfo",
    "Class",
    "define",
    "extend",
    "core",
    "Object",
    "implement",
    "qookery",
    "ILayoutFactory",
    "type",
    "statics",
    "__patchLayout",
    "layout",
    "attributes",
    "configureFunction",
    "widget",
    "internal",
    "layouts",
    "GridLayoutFactory",
    "__configureWidget",
    "call",
    "rowArray",
    "currentRow",
    "currentColumn",
    "columnCount",
    "getAttribute",
    "i",
    "push",
    "configureWidget",
    "properties",
    "getLayoutProperties",
    "colSpan",
    "rowSpan",
    "setLayoutProperties",
    "row",
    "column",
    "length",
    "j",
    "members",
    "createLayout",
    "defaultSpacingX",
    "Qookery",
    "getOption",
    "OPTION_DEFAULT_LAYOUT_SPACING_X",
    "defaultSpacingY",
    "OPTION_DEFAULT_LAYOUT_SPACING_Y",
    "ui",
    "Grid",
    "spacing",
    "setSpacingX",
    "setSpacingY",
    "spacingX",
    "spacingY",
    "columnFlexes",
    "util",
    "StringSplit",
    "split",
    "forEach",
    "columnFlex",
    "index",
    "setColumnFlex",
    "parseInt",
    "rowFlexes",
    "rowFlex",
    "setRowFlex"
  ],
  "mappings": ";;;;;;;;;;;;;;;;;;AAAAA,EAAAA,EAAE,CAACC,SAAH,CAAaC,oBAAb,CAAkCC,aAAlC;;AAAA;;;;;;;;;;;;;;;;;AAkBAH,EAAAA,EAAE,CAACI,KAAH,CAASC,MAAT,CAAgB,4CAAhB,EAA8D;AAE7DC,IAAAA,MAAM,EAAEN,EAAE,CAACO,IAAH,CAAQC,MAF6C;AAG7DC,IAAAA,SAAS,EAAE,CAAEC,OAAO,CAACC,cAAV,CAHkD;AAI7DC,IAAAA,IAAI,EAAE,WAJuD;AAM7DC,IAAAA,OAAO,EAAE;AAER;AACAC,MAAAA,aAAa,EAAE,uBAASC,MAAT,EAAiBC,UAAjB,EAA6B;AAC3C,YAAIC,iBAAiB,GAAG,SAApBA,iBAAoB,CAASC,MAAT,EAAiB;AACxCR,UAAAA,OAAO,CAACS,QAAR,CAAiBC,OAAjB,CAAyBC,iBAAzB,CAA2CC,iBAA3C,CAA6DC,IAA7D,CAAkEN,iBAAlE,EAAqFC,MAArF;AACA,SAFD;;AAGAD,QAAAA,iBAAiB,CAACO,QAAlB,GAA6B,IAA7B;AACAP,QAAAA,iBAAiB,CAACQ,UAAlB,GAA+B,CAA/B;AACAR,QAAAA,iBAAiB,CAACS,aAAlB,GAAkC,CAAlC;AACA,YAAIC,WAAW,GAAGX,UAAU,CAACY,YAAX,CAAwB,cAAxB,EAAwC,CAAxC,CAAlB;;AACA,YAAGD,WAAW,KAAK,MAAnB,EAA2B;AAC1BV,UAAAA,iBAAiB,CAACO,QAAlB,GAA6B,EAA7B;;AACA,eAAI,IAAIK,CAAC,GAAG,CAAZ,EAAeA,CAAC,GAAGF,WAAnB,EAAgCE,CAAC,EAAjC,EACCZ,iBAAiB,CAACO,QAAlB,CAA2BM,IAA3B,CAAgC,CAAhC;AACD;;AACDf,QAAAA,MAAM,CAACgB,eAAP,GAAyBd,iBAAzB;AACA,OAjBO;;AAmBR;AACAK,MAAAA,iBAAiB,EAAE,2BAASJ,MAAT,EAAiB;AACnC,YAAIc,UAAU,GAAGd,MAAM,CAACe,mBAAP,EAAjB;AACA,YAAGD,UAAU,CAAC,KAAD,CAAV,IAAqB,IAArB,IAA6BA,UAAU,CAAC,QAAD,CAAV,IAAwB,IAAxD,EAA8D;AAC9D,YAAIE,OAAO,GAAGF,UAAU,CAAC,SAAD,CAAV,IAAyB,CAAvC;AACA,YAAIG,OAAO,GAAGH,UAAU,CAAC,SAAD,CAAV,IAAyB,CAAvC;;AACA,YAAG,KAAKR,QAAL,IAAiB,IAApB,EAA0B;AACzBN,UAAAA,MAAM,CAACkB,mBAAP,CAA2B;AAAEC,YAAAA,GAAG,EAAE,CAAP;AAAUC,YAAAA,MAAM,EAAE,KAAKZ,aAAvB;AAAsCQ,YAAAA,OAAO,EAAEA;AAA/C,WAA3B;AACA,eAAKR,aAAL,IAAsBQ,OAAtB;AACA;AACA;;AACD,eAAM,KAAKV,QAAL,CAAc,KAAKE,aAAnB,IAAoC,CAA1C,EAA6C;AAC5C,eAAKF,QAAL,CAAc,KAAKE,aAAnB;AACA,eAAKA,aAAL;;AACA,cAAG,KAAKA,aAAL,IAAsB,KAAKF,QAAL,CAAce,MAAvC,EAA+C;AAC9C,iBAAKb,aAAL,GAAqB,CAArB;AACA,iBAAKD,UAAL;AACA;AACD;;AACDP,QAAAA,MAAM,CAACkB,mBAAP,CAA2B;AAAEC,UAAAA,GAAG,EAAE,KAAKZ,UAAZ;AAAwBa,UAAAA,MAAM,EAAE,KAAKZ,aAArC;AAAoDQ,UAAAA,OAAO,EAAEA,OAA7D;AAAsEC,UAAAA,OAAO,EAAEA;AAA/E,SAA3B;;AACA,aAAI,IAAIK,CAAC,GAAG,CAAZ,EAAeA,CAAC,GAAGN,OAAnB,EAA4BM,CAAC,EAA7B,EAAiC;AAChC,eAAKhB,QAAL,CAAc,KAAKE,aAAnB,KAAqCS,OAAO,GAAG,CAA/C;AACA,eAAKT,aAAL;AACA;;AACD,YAAG,KAAKA,aAAL,IAAsB,KAAKF,QAAL,CAAce,MAAvC,EAA+C;AAC9C,eAAKb,aAAL,GAAqB,CAArB;AACA,eAAKD,UAAL;AACA;AACD;AA/CO,KANoD;AAwD7DgB,IAAAA,OAAO,EAAE;AAERC,MAAAA,YAAY,EAAE,sBAAS1B,UAAT,EAAqB;AAClC,YAAI2B,eAAe,GAAGjC,OAAO,CAACkC,OAAR,CAAgBC,SAAhB,CAA0BnC,OAAO,CAACkC,OAAR,CAAgBE,+BAA1C,EAA2E,CAA3E,CAAtB;AACA,YAAIC,eAAe,GAAGrC,OAAO,CAACkC,OAAR,CAAgBC,SAAhB,CAA0BnC,OAAO,CAACkC,OAAR,CAAgBI,+BAA1C,EAA2E,CAA3E,CAAtB;AACA,YAAIjC,MAAM,GAAG,IAAIf,EAAE,CAACiD,EAAH,CAAMlC,MAAN,CAAamC,IAAjB,CAAsBP,eAAtB,EAAuCI,eAAvC,CAAb;AACA,YAAII,OAAO,GAAGnC,UAAU,CAACY,YAAX,CAAwB,SAAxB,CAAd;;AACA,YAAGuB,OAAO,IAAI,IAAd,EAAoB;AACnBpC,UAAAA,MAAM,CAACqC,WAAP,CAAmBD,OAAnB;AACApC,UAAAA,MAAM,CAACsC,WAAP,CAAmBF,OAAnB;AACA;;AACD,YAAIG,QAAQ,GAAGtC,UAAU,CAACY,YAAX,CAAwB,WAAxB,CAAf;AACA,YAAG0B,QAAQ,IAAI,IAAf,EACCvC,MAAM,CAACqC,WAAP,CAAmBE,QAAnB;AACD,YAAIC,QAAQ,GAAGvC,UAAU,CAACY,YAAX,CAAwB,WAAxB,CAAf;AACA,YAAG2B,QAAQ,IAAI,IAAf,EACCxC,MAAM,CAACsC,WAAP,CAAmBE,QAAnB;AACD,YAAIC,YAAY,GAAGxC,UAAU,CAACY,YAAX,CAAwB,eAAxB,CAAnB;AACA,YAAG4B,YAAY,IAAI,IAAnB,EACCxD,EAAE,CAACyD,IAAH,CAAQC,WAAR,CAAoBC,KAApB,CAA0BH,YAA1B,EAAwC,KAAxC,EAA+CI,OAA/C,CAAuD,UAASC,UAAT,EAAqBC,KAArB,EAA4B;AAClF/C,UAAAA,MAAM,CAACgD,aAAP,CAAqBD,KAArB,EAA4BE,QAAQ,CAACH,UAAD,EAAa,EAAb,CAApC;AACA,SAFD,EAEG,IAFH;AAGD,YAAII,SAAS,GAAGjD,UAAU,CAACY,YAAX,CAAwB,YAAxB,CAAhB;AACA,YAAGqC,SAAS,IAAI,IAAhB,EACCjE,EAAE,CAACyD,IAAH,CAAQC,WAAR,CAAoBC,KAApB,CAA0BM,SAA1B,EAAqC,KAArC,EAA4CL,OAA5C,CAAoD,UAASM,OAAT,EAAkBJ,KAAlB,EAAyB;AAC5E/C,UAAAA,MAAM,CAACoD,UAAP,CAAkBL,KAAlB,EAAyBE,QAAQ,CAACE,OAAD,EAAU,EAAV,CAAjC;AACA,SAFD,EAEG,IAFH;;AAGDxD,QAAAA,OAAO,CAACS,QAAR,CAAiBC,OAAjB,CAAyBC,iBAAzB,CAA2CP,aAA3C,CAAyDC,MAAzD,EAAiEC,UAAjE;;AACA,eAAOD,MAAP;AACA;AA7BO;AAxDoD,GAA9D;AAlBAL,EAAAA,OAAO,CAACS,QAAR,CAAiBC,OAAjB,CAAyBC,iBAAzB,CAA2ClB,aAA3C,GAA2DA,aAA3D",
  "sourcesContent": [
    "/*\n\tQookery - Declarative UI Building for Qooxdoo\n\n\tCopyright (c) Ergobyte Informatics S.A., www.ergobyte.gr\n\n\tLicensed under the Apache License, Version 2.0 (the \"License\");\n\tyou may not use this file except in compliance with the License.\n\tYou may obtain a copy of the License at\n\n\t\thttp://www.apache.org/licenses/LICENSE-2.0\n\n\tUnless required by applicable law or agreed to in writing, software\n\tdistributed under the License is distributed on an \"AS IS\" BASIS,\n\tWITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n\tSee the License for the specific language governing permissions and\n\tlimitations under the License.\n*/\n\nqx.Class.define(\"qookery.internal.layouts.GridLayoutFactory\", {\n\n\textend: qx.core.Object,\n\timplement: [ qookery.ILayoutFactory ],\n\ttype: \"singleton\",\n\n\tstatics: {\n\n\t\t/* Patch layout with automatic child row-column assignment code*/\n\t\t__patchLayout: function(layout, attributes) {\n\t\t\tvar configureFunction = function(widget) {\n\t\t\t\tqookery.internal.layouts.GridLayoutFactory.__configureWidget.call(configureFunction, widget);\n\t\t\t};\n\t\t\tconfigureFunction.rowArray = null;\n\t\t\tconfigureFunction.currentRow = 0;\n\t\t\tconfigureFunction.currentColumn = 0;\n\t\t\tvar columnCount = attributes.getAttribute(\"column-count\", 1);\n\t\t\tif(columnCount !== \"auto\") {\n\t\t\t\tconfigureFunction.rowArray = [ ];\n\t\t\t\tfor(var i = 0; i < columnCount; i++)\n\t\t\t\t\tconfigureFunction.rowArray.push(0);\n\t\t\t}\n\t\t\tlayout.configureWidget = configureFunction;\n\t\t},\n\n\t\t/* Perform automatic row-column assignment for a new child, if needed */\n\t\t__configureWidget: function(widget) {\n\t\t\tvar properties = widget.getLayoutProperties();\n\t\t\tif(properties[\"row\"] != null && properties[\"column\"] != null) return;\n\t\t\tvar colSpan = properties[\"colSpan\"] || 1;\n\t\t\tvar rowSpan = properties[\"rowSpan\"] || 1;\n\t\t\tif(this.rowArray == null) {\n\t\t\t\twidget.setLayoutProperties({ row: 0, column: this.currentColumn, colSpan: colSpan });\n\t\t\t\tthis.currentColumn += colSpan;\n\t\t\t\treturn;\n\t\t\t}\n\t\t\twhile(this.rowArray[this.currentColumn] > 0) {\n\t\t\t\tthis.rowArray[this.currentColumn]--;\n\t\t\t\tthis.currentColumn++;\n\t\t\t\tif(this.currentColumn >= this.rowArray.length) {\n\t\t\t\t\tthis.currentColumn = 0;\n\t\t\t\t\tthis.currentRow++;\n\t\t\t\t}\n\t\t\t}\n\t\t\twidget.setLayoutProperties({ row: this.currentRow, column: this.currentColumn, colSpan: colSpan, rowSpan: rowSpan });\n\t\t\tfor(var j = 0; j < colSpan; j++) {\n\t\t\t\tthis.rowArray[this.currentColumn] += rowSpan - 1;\n\t\t\t\tthis.currentColumn++;\n\t\t\t}\n\t\t\tif(this.currentColumn >= this.rowArray.length) {\n\t\t\t\tthis.currentColumn = 0;\n\t\t\t\tthis.currentRow++;\n\t\t\t}\n\t\t}\n\t},\n\n\tmembers: {\n\n\t\tcreateLayout: function(attributes) {\n\t\t\tvar defaultSpacingX = qookery.Qookery.getOption(qookery.Qookery.OPTION_DEFAULT_LAYOUT_SPACING_X, 0);\n\t\t\tvar defaultSpacingY = qookery.Qookery.getOption(qookery.Qookery.OPTION_DEFAULT_LAYOUT_SPACING_Y, 0);\n\t\t\tvar layout = new qx.ui.layout.Grid(defaultSpacingX, defaultSpacingY);\n\t\t\tvar spacing = attributes.getAttribute(\"spacing\");\n\t\t\tif(spacing != null) {\n\t\t\t\tlayout.setSpacingX(spacing);\n\t\t\t\tlayout.setSpacingY(spacing);\n\t\t\t}\n\t\t\tvar spacingX = attributes.getAttribute(\"spacing-x\");\n\t\t\tif(spacingX != null)\n\t\t\t\tlayout.setSpacingX(spacingX);\n\t\t\tvar spacingY = attributes.getAttribute(\"spacing-y\");\n\t\t\tif(spacingY != null)\n\t\t\t\tlayout.setSpacingY(spacingY);\n\t\t\tvar columnFlexes = attributes.getAttribute(\"column-flexes\");\n\t\t\tif(columnFlexes != null)\n\t\t\t\tqx.util.StringSplit.split(columnFlexes, /\\s+/).forEach(function(columnFlex, index) {\n\t\t\t\t\tlayout.setColumnFlex(index, parseInt(columnFlex, 10));\n\t\t\t\t}, this);\n\t\t\tvar rowFlexes = attributes.getAttribute(\"row-flexes\");\n\t\t\tif(rowFlexes != null)\n\t\t\t\tqx.util.StringSplit.split(rowFlexes, /\\s+/).forEach(function(rowFlex, index) {\n\t\t\t\t\tlayout.setRowFlex(index, parseInt(rowFlex, 10));\n\t\t\t\t}, this);\n\t\t\tqookery.internal.layouts.GridLayoutFactory.__patchLayout(layout, attributes);\n\t\t\treturn layout;\n\t\t}\n\t}\n});\n"
  ]
}